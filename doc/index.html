<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Brackets Documentation</title>
        <link rel="stylesheet" href="styles.css" type="text/css"/>
    </head>
    
    <body>
        
	<header><img src="brackets.png"/><h1>Brackets API documentation</h1></header>                            
                            
        
	<aside>
	    <ul>
		<li><a href="#brackets">brackets</a></li>
<li><a href="#strings">strings</a></li>
<li><a href="#CommandManager">CommandManager</a></li>
<li><a href="#Commands">Commands</a></li>
<li><a href="#KeyBindingManager">KeyBindingManager</a></li>
<li><a href="#Menus">Menus</a></li>
<li><a href="#ChangedDocumentTracker">ChangedDocumentTracker</a></li>
<li><a href="#DocumentCommandHandlers">DocumentCommandHandlers</a></li>
<li><a href="#DocumentManager">DocumentManager</a></li>
<li><a href="#TextRange">TextRange</a></li>
<li><a href="#CodeHintManager">CodeHintManager</a></li>
<li><a href="#CSSInlineEditor">CSSInlineEditor</a></li>
<li><a href="#Editor">Editor</a></li>
<li><a href="#EditorCommandHandlers">EditorCommandHandlers</a></li>
<li><a href="#EditorManager">EditorManager</a></li>
<li><a href="#EditorUtils">EditorUtils</a></li>
<li><a href="#InlineTextEditor">InlineTextEditor</a></li>
<li><a href="#InlineWidget">InlineWidget</a></li>
<li><a href="#MultiRangeInlineEditor">MultiRangeInlineEditor</a></li>
<li><a href="#FileUtils">FileUtils</a></li>
<li><a href="#NativeFileSystem">NativeFileSystem</a></li>
<li><a href="#CSSUtils">CSSUtils</a></li>
<li><a href="#HTMLUtils">HTMLUtils</a></li>
<li><a href="#JSLintUtils">JSLintUtils</a></li>
<li><a href="#JSUtils">JSUtils</a></li>
<li><a href="#LiveDevelopment">LiveDevelopment</a></li>
<li><a href="#main">main</a></li>
<li><a href="#PreferencesDialogs">PreferencesDialogs</a></li>
<li><a href="#PreferencesManager">PreferencesManager</a></li>
<li><a href="#PreferenceStorage">PreferenceStorage</a></li>
<li><a href="#FileIndexManager">FileIndexManager</a></li>
<li><a href="#FileSyncManager">FileSyncManager</a></li>
<li><a href="#FileViewController">FileViewController</a></li>
<li><a href="#ProjectManager">ProjectManager</a></li>
<li><a href="#SidebarView">SidebarView</a></li>
<li><a href="#WorkingSetSort">WorkingSetSort</a></li>
<li><a href="#WorkingSetView">WorkingSetView</a></li>
<li><a href="#FindInFiles">FindInFiles</a></li>
<li><a href="#FindReplace">FindReplace</a></li>
<li><a href="#QuickOpen">QuickOpen</a></li>
<li><a href="#AppInit">AppInit</a></li>
<li><a href="#Async">Async</a></li>
<li><a href="#BuildInfoUtils">BuildInfoUtils</a></li>
<li><a href="#CollectionUtils">CollectionUtils</a></li>
<li><a href="#ExtensionLoader">ExtensionLoader</a></li>
<li><a href="#ExtensionUtils">ExtensionUtils</a></li>
<li><a href="#Global">Global</a></li>
<li><a href="#KeyEvent">KeyEvent</a></li>
<li><a href="#NativeApp">NativeApp</a></li>
<li><a href="#PerfUtils">PerfUtils</a></li>
<li><a href="#Resizer">Resizer</a></li>
<li><a href="#ShellAPI">ShellAPI</a></li>
<li><a href="#StringUtils">StringUtils</a></li>
<li><a href="#TokenUtils">TokenUtils</a></li>
<li><a href="#UpdateNotification">UpdateNotification</a></li>
<li><a href="#UrlParams">UrlParams</a></li>
<li><a href="#ViewUtils">ViewUtils</a></li>
<li><a href="#ViewCommandHandlers">ViewCommandHandlers</a></li>
<li><a href="#Dialogs">Dialogs</a></li>
<li><a href="#PopUpManager">PopUpManager</a></li>
<li><a href="#StatusBar">StatusBar</a></li>
<li><a href="#ConsoleAgent">ConsoleAgent</a></li>
<li><a href="#CSSAgent">CSSAgent</a></li>
<li><a href="#DOMAgent">DOMAgent</a></li>
<li><a href="#DOMHelpers">DOMHelpers</a></li>
<li><a href="#DOMNode">DOMNode</a></li>
<li><a href="#EditAgent">EditAgent</a></li>
<li><a href="#GotoAgent">GotoAgent</a></li>
<li><a href="#HighlightAgent">HighlightAgent</a></li>
<li><a href="#NetworkAgent">NetworkAgent</a></li>
<li><a href="#RemoteAgent">RemoteAgent</a></li>
<li><a href="#RemoteFunctions">RemoteFunctions</a></li>
<li><a href="#ScriptAgent">ScriptAgent</a></li>
<li><a href="#CSSDocument">CSSDocument</a></li>
<li><a href="#HTMLDocument">HTMLDocument</a></li>
<li><a href="#JSDocument">JSDocument</a></li>
<li><a href="#Inspector">Inspector</a></li>

	    </ul>
	</aside>


	<div class="main">
    
		<a name="brackets"></a><article>
<p class="path">brackets.js</p>
<h1>brackets</h1>
<pre><code><h2>module</h2></code></pre><p> brackets is the root of the Brackets codebase. This file pulls in all other modules as<br> dependencies (or dependencies thereof), initializes the UI, and binds global menus & keyboard<br> shortcuts to their Commands.<br><br> TODO: (issue #264) break out the definition of brackets into a separate module from the application controller logic<br><br> Unlike other modules, this one can be accessed without an explicit require() because it exposes<br> a global object, window.brackets.<br> </p>
<hr>
</article>
<hr>
<hr>
<a name="strings"></a><article>
<p class="path">strings.js</p>
<h1>strings</h1>
<pre><code><h2>module</h2></code></pre><p> This file provides the interface to user visible strings in Brackets. Code that needs<br> to display strings should should load this module by calling var Strings = require("strings").<br> The i18n plugin will dynamically load the strings for the right locale and populate<br> the exports variable. See src\nls\strings.js for the master file of English strings.<br> </p>
<hr>
</article>
<hr>
<hr>
<a name="CommandManager"></a><article>
<p class="path">command/CommandManager.js</p>
<h1>CommandManager</h1>
<pre><code><h2>module</h2></code></pre><p> Manages global application commands that can be called from menu items, key bindings, or subparts<br> of the application.<br>  </p>
<hr>
<pre><code><h2>_commands</h2></code></pre><p><strong>return type: </strong><code>Object.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Map of all registered global commands<br> @type Object.<br>     </p>
<hr>
<pre><code><h2>_commandsOriginal</h2></code></pre><p><strong>return type: </strong><code>Object.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Temporary copy of commands map for restoring after testing<br> TODO (issue #1039): implement separate require contexts for unit tests<br> @type Object.<br>     </p>
<hr>
<pre><code><h2>Command Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @constructor<br> @private<br><br> @param {string} name - text that will be displayed in the UI to represent command<br> @param {string} id<br> @param {function} commandFn - the function that is called when the command is executed.<br><br> TODO: where should this be triggered, The Command or Exports?<br> Events:<br>      enabledStateChange<br>      checkedStateChange<br>      keyBindingAdded<br>      keyBindingRemoved<br>     </p>
<hr>
<pre><code><h2>Command.prototype.getID ()</h2></code></pre><p><strong>return type: </strong><code>Command</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {Command} </p>
<hr>
<pre><code><h2>Command.prototype.execute ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Executes the command. Additional arguments are passed to the executing function<br><br> @return {$.Promise} a jQuery promise that will be resolved when the command completes.<br>     </p>
<hr>
<pre><code><h2>Command.prototype.getEnabled ()</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {boolean} </p>
<hr>
<pre><code><h2>Command.prototype.setEnabled (enabled)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets enabled state of Command and dispatches "enabledStateChange"<br> when the enabled state changes.<br> @param {boolean} enabled<br>     </p>
<hr>
<pre><code><h2>Command.prototype.setChecked (checked)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets enabled state of Command and dispatches "checkedStateChange"<br> when the enabled state changes.<br> @param {boolean} checked<br>     </p>
<hr>
<pre><code><h2>Command.prototype.getChecked ()</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {boolean} </p>
<hr>
<pre><code><h2>Command.prototype.setName (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the name of the Command and dispatches "nameChange" so that<br> UI that reflects the command name can update.<br> <br> Note, a Command name can appear in either HTML or native UI<br> so HTML tags should not be used. To add a Unicode character,<br> use \uXXXX instead of an HTML entity.<br> <br> @param {string} name<br>     </p>
<hr>
<pre><code><h2>Command.prototype.getName ()</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {string} </p>
<hr>
<pre><code><h2>register (name, id, commandFn)</h2></code></pre><p><strong>return type: </strong><code>?Command</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers a global command.<br> @param {string} name - text that will be displayed in the UI to represent command<br> @param {string} id - unique identifier for command.<br>      Core commands in Brackets use a simple command title as an id, for example "open.file".<br>      Extensions should use the following format: "author.myextension.mycommandname". <br>      For example, "lschmitt.csswizard.format.css".<br> @param {function(...)} commandFn - the function to call when the command is executed. Any arguments passed to<br>     execute() (after the id) are passed as arguments to the function. If the function is asynchronous,<br>     it must return a jQuery promise that is resolved when the command completes. Otherwise, the<br>     CommandManager will assume it is synchronous, and return a promise that is already resolved.<br> @return {?Command}<br>     </p>
<hr>
<pre><code><h2>_testReset ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clear all commands for unit testing, but first make copy of commands so that<br> they can be restored afterward<br>     </p>
<hr>
<pre><code><h2>_testRestore ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Restore original commands after test and release copy<br>     </p>
<hr>
<pre><code><h2>get (id)</h2></code></pre><p><strong>return type: </strong><code>Command</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieves a Command object by id<br> @param {string} id<br> @return {Command}<br>     </p>
<hr>
<pre><code><h2>getAll ()</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the ids of all registered commands<br> @return {Array.}<br>     </p>
<hr>
<pre><code><h2>execute (id)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Looks up and runs a global command. Additional arguments are passed to the command.<br><br> @param {string} id The ID of the command to run.<br> @return {$.Promise} a jQuery promise that will be resolved when the command completes.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Commands"></a><article>
<p class="path">command/Commands.js</p>
</article>
<hr>
<hr>
<a name="KeyBindingManager"></a><article>
<p class="path">command/KeyBindingManager.js</p>
<h1>KeyBindingManager</h1>
<pre><code><h2>module</h2></code></pre><p> Manages the mapping of keyboard inputs to commands.<br> </p>
<hr>
<pre><code><h2>_keyMap</h2></code></pre><p><strong>return type: </strong><code>!Object.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maps normalized shortcut descriptor to key binding info.<br> @type {!Object.}<br>     </p>
<hr>
<pre><code><h2>_commandMap</h2></code></pre><p><strong>return type: </strong><code>!Object.>}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maps commandID to the list of shortcuts that are bound to it.<br> @type {!Object.>}<br>     </p>
<hr>
<pre><code><h2>_enabled</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Allow clients to toggle key binding<br>     </p>
<hr>
<pre><code><h2>_reset ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_buildKeyDescriptor (hasMacCtrl, hasCtrl, hasAlt, hasShift, key)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Initialize an empty keymap as the current keymap. It overwrites the current keymap if there is one.<br> builds the keyDescriptor string from the given parts<br> @param {boolean} hasCtrl Is Ctrl key enabled<br> @param {boolean} hasAlt Is Alt key enabled<br> @param {boolean} hasShift Is Shift key enabled<br> @param {string} key The key that's pressed<br> @return {string} The normalized key descriptor<br>     </p>
<hr>
<pre><code><h2>normalizeKeyDescriptorString (origDescriptor)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> normalizes the incoming key descriptor so the modifier keys are always specified in the correct order<br> @param {string} The string for a key descriptor, can be in any order, the result will be Ctrl-Alt-Shift-<br> @return {string} The normalized key descriptor or null if the descriptor invalid<br>     </p>
<hr>
<pre><code><h2>_mapKeycodeToKey (keycode, key)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Looks for keycodes that have os-inconsistent keys and fixes them.<br> @param {number} The keycode from the keyboard event.<br> @param {string} The current best guess at what the key is.<br> @return {string} If the key is OS-inconsistent, the correct key; otherwise, the original key.<br></p>
<hr>
<pre><code><h2>_translateKeyboardEvent (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Takes a keyboard event and translates it into a key in a key map<br>     </p>
<hr>
<pre><code><h2>formatKeyDescriptor (descriptor)</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Convert normalized key representation to display appropriate for platform.<br> @param {!string} descriptor Normalized key descriptor.<br> @return {!string} Display/Operating system appropriate string<br>     </p>
<hr>
<pre><code><h2>_isKeyAssigned (key)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @param {string} A normalized key-description string.<br> @return {boolean} true if the key is already assigned, false otherwise.<br>     </p>
<hr>
<pre><code><h2>_addBinding (commandID, keyBinding, platform)</h2></code></pre><p><strong>return type: </strong><code>?{key: string, displayKey:String}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br><br> @param {string} commandID<br> @param {string|{{key: string, displayKey: string}}} keyBinding - a single shortcut.<br> @param {?string} platform - undefined indicates all platforms<br> @return {?{key: string, displayKey:String}} Returns a record for valid key bindings<br>     </p>
<hr>
<pre><code><h2>getKeymap ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns a copy of the keymap<br> @returns {!Object.}<br>     </p>
<hr>
<pre><code><h2>handleKey (key)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Process the keybinding for the current key.<br><br> @param {string} A key-description string.<br> @return {boolean} true if the key was processed, false otherwise<br>     </p>
<hr>
<pre><code><h2>setEnabled (value)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Enable or disable key bindings. Clients such as dialogs may wish to disable <br> global key bindings temporarily.<br><br> @param {string} A key-description string.<br> @return {boolean} true if the key was processed, false otherwise<br>     </p>
<hr>
<pre><code><h2>addBinding (commandID, keyBindings, platform)</h2></code></pre><p><strong>return type: </strong><code>{key: string, displayKey:String}|Array.<{key: string, displayKey:String}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add one or more key bindings to a particular Command.<br> <br> @param {!string} commandID<br> @param {?({key: string, displayKey: string} | Array.<{key: string, displayKey: string, platform: string}>)}  keyBindings - a single key binding<br>      or an array of keybindings. Example: "Shift-Cmd-F". Mac and Win key equivalents are automatically<br>      mapped to each other. Use displayKey property to display a different string (e.g. "CMD+" instead of "CMD=").<br> @param {?string} platform - the target OS of the keyBindings either "mac" or "win". If undefined, all platforms will use<br>      the key binding. Ignored if keyBindings is passed an Array.<br> @return {{key: string, displayKey:String}|Array.<{key: string, displayKey:String}>} Returns record(s) for valid key binding(s)<br>     </p>
<hr>
<pre><code><h2>removeBinding (key, platform)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove a key binding from _keymap<br><br> @param {!string} key - a key-description string that may or may not be normalized.<br> @param {?string} platform - OS from which to remove the binding (all platforms if unspecified)<br>     </p>
<hr>
<pre><code><h2>getKeyBindings (commandID)</h2></code></pre><p><strong>return type: </strong><code>!Array.<{{key: string, displayKey: string}}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieve key bindings currently associated with a command<br><br> @param {!string} command - A command ID<br> @return {!Array.<{{key: string, displayKey: string}}>} An array of associated key bindings.<br>     </p>
<hr>
<pre><code><h2>init ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Install keydown event listener.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Menus"></a><article>
<p class="path">command/Menus.js</p>
<pre><code><h2>AppMenuBar</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Brackets Application Menu Constants<br> @enum {string}<br>     </p>
<hr>
<pre><code><h2>ContextMenuIds</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Brackets Context Menu Constants<br> @enum {string}<br>     </p>
<hr>
<pre><code><h2>MenuSection</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Brackets Application Menu Section Constants<br> It is preferred that plug-ins specify the location of new MenuItems<br> in terms of a menu section rather than a specific MenuItem. This provides<br> looser coupling to Bracket's internal MenuItems and makes menu organization<br> more semantic. <br> Use these constants as the "relativeID" parameter when calling addMenuItem() and<br> specify a position of FIRST_IN_SECTION or LAST_IN_SECTION.<br><br> Menu sections are denoted by dividers or the beginning/end of a menu<br>     </p>
<hr>
<pre><code><h2>BEFORE</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Insertion position constants<br> Used by addMenu(), addMenuItem(), and addSubMenu() to<br> specify the relative position of a newly created menu object<br> @enum {string}<br>      </p>
<hr>
<pre><code><h2>DIVIDER</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Other constants<br>      </p>
<hr>
<pre><code><h2>menuMap</h2></code></pre><p><strong>return type: </strong><code>Object.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maps menuID's to Menu objects<br> @type {Object.}<br>     </p>
<hr>
<pre><code><h2>contextMenuMap</h2></code></pre><p><strong>return type: </strong><code>Object.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maps contextMenuID's to ContextMenu objects<br> @type {Object.}<br>     </p>
<hr>
<pre><code><h2>menuItemMap</h2></code></pre><p><strong>return type: </strong><code>Object.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maps menuItemID's to MenuItem objects<br> @type {Object.}<br>     </p>
<hr>
<pre><code><h2>getMenu (id)</h2></code></pre><p><strong>return type: </strong><code>Menu</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieves the Menu object for the corresponding id. <br> @param {string} id<br> @return {Menu}<br>     </p>
<hr>
<pre><code><h2>getContextMenu (id)</h2></code></pre><p><strong>return type: </strong><code>ContextMenu</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieves the ContextMenu object for the corresponding id. <br> @param {string} id<br> @return {ContextMenu}<br>     </p>
<hr>
<pre><code><h2>getMenuItem (id)</h2></code></pre><p><strong>return type: </strong><code>MenuItem</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieves the MenuItem object for the corresponding id. <br> @param {string} id<br> @return {MenuItem}<br>     </p>
<hr>
<pre><code><h2>MenuItem Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @constructor<br> @private<br><br> MenuItem represents a single menu item that executes a Command or a menu divider. MenuItems<br> may have a sub-menu. A MenuItem may correspond to an HTML-based<br> menu item or a native menu item if Brackets is running in a native application shell<br><br> Since MenuItems may have a native implementation clients should create MenuItems through <br> addMenuItem() and should NOT construct a MenuItem object directly. <br> Clients should also not access HTML content of a menu directly and instead use<br> the MenuItem API to query and modify menus items.<br><br> MenuItems are views on to Command objects so modify the underlying Command to modify the<br> name, enabled, and checked state of a MenuItem. The MenuItem will update automatically<br><br> @param {string} id<br> @param {string|Command} command - the Command this MenuItem will reflect.<br>                                   Use DIVIDER to specify a menu divider<br>     </p>
<hr>
<pre><code><h2>Menu Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @constructor<br> @private<br><br> Menu represents a top-level menu in the menu bar. A Menu may correspond to an HTML-based<br> menu or a native menu if Brackets is running in a native application shell. <br> <br> Since menus may have a native implementation clients should create Menus through <br> addMenu() and should NOT construct a Menu object directly. <br> Clients should also not access HTML content of a menu directly and instead use<br> the Menu API to query and modify menus.<br><br>     </p>
<hr>
<pre><code><h2>Menu.prototype._getMenuItemForCommand (command)</h2></code></pre><p><strong>return type: </strong><code>?HTMLLIElement</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine MenuItem in this Menu, that has the specified command<br><br> @param {Command} command - the command to search for.<br> @return {?HTMLLIElement} menu item list element<br>     </p>
<hr>
<pre><code><h2>Menu.prototype._getRelativeMenuItem (relativeID, position)</h2></code></pre><p><strong>return type: </strong><code>?HTMLLIElement</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine relative MenuItem<br><br> @param {?string} relativeID - id of command (future: sub-menu).<br> @param {?string} position - only needed when relativeID is a MenuSection<br> @return {?HTMLLIElement} menu item list element<br>     </p>
<hr>
<pre><code><h2>Menu.prototype.removeMenuItem (command)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes the specified menu item from this Menu. Key bindings are unaffected; use KeyBindingManager<br> directly to remove key bindings if desired.<br><br> @param {!string | Command} command - command the menu would execute if we weren't deleting it.<br>     </p>
<hr>
<pre><code><h2>Menu.prototype.addMenuItem (command, keyBindings, position, relativeID)</h2></code></pre><p><strong>return type: </strong><code>MenuItem</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds a new menu item with the specified id and display text. The insertion position is<br> specified via the relativeID and position arguments which describe a position <br> relative to another MenuItem or MenuGroup. It is preferred that plug-ins <br> insert new  MenuItems relative to a menu section rather than a specific <br> MenuItem (see Menu Section Constants).<br><br> TODO: Sub-menus are not yet supported, but when they are implemented this API will<br> allow adding new MenuItems to sub-menus as well.<br><br> Note, keyBindings are bound to Command objects not MenuItems. The provided keyBindings<br>      will be bound to the supplied Command object rather than the MenuItem.<br> <br> @param {!string | Command} command - the command the menu will execute.<br>      Pass Menus.DIVIDER for a menu divider, or just call addMenuDivider() instead.<br> @param {?string | Array.<{key: string, platform: string}>}  keyBindings - register one<br>      one or more key bindings to associate with the supplied command.<br> @param {?string} position - constant defining the position of new MenuItem relative to<br>      other MenuItems. Values:<br>          - With no relativeID, use Menus.FIRST or LAST (default is LAST)<br>          - Relative to a command id, use BEFORE or AFTER (required)<br>          - Relative to a MenuSection, use FIRST_IN_SECTION or LAST_IN_SECTION (required)<br> @param {?string} relativeID - command id OR one of the MenuSection.* constants. Required<br>      for all position constants except FIRST and LAST.<br><br> @return {MenuItem} the newly created MenuItem<br>     </p>
<hr>
<pre><code><h2>Menu.prototype.addMenuDivider (position, relativeID)</h2></code></pre><p><strong>return type: </strong><code>MenuItem</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Inserts divider item in menu.<br> @param {?string} position - constant defining the position of new the divider relative<br>      to other MenuItems. Default is LAST.  (see Insertion position constants). <br> @param {?string} relativeID - id of menuItem, sub-menu, or menu section that the new <br>      divider will be positioned relative to. Required for all position constants<br>      except FIRST and LAST<br> <br> @return {MenuItem} the newly created divider<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype.getCommand ()</h2></code></pre><p><strong>return type: </strong><code>Command</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the Command associated with a MenuItem<br> @return {Command}<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype.getParentMenu ()</h2></code></pre><p><strong>return type: </strong><code>Menu</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the parent Menu for this MenuItem<br> @return {Menu} <br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype._checkedChanged ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Synchronizes MenuItem checked state with underlying Command checked state<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype._enabledChanged ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Synchronizes MenuItem enabled state with underlying Command enabled state<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype._nameChanged ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Synchronizes MenuItem name with underlying Command name<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype._keyBindingAdded (event, keyBinding)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Updates MenuItem DOM with a keyboard shortcut label<br>     </p>
<hr>
<pre><code><h2>MenuItem.prototype._keyBindingRemoved (event, keyBinding)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Updates MenuItem DOM to remove keyboard shortcut label<br>     </p>
<hr>
<pre><code><h2>closeAll ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes all menus that are open<br>     </p>
<hr>
<pre><code><h2>addMenu (name, id, position, relativeID)</h2></code></pre><p><strong>return type: </strong><code>?Menu</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds a top-level menu to the application menu bar which may be native or HTML-based.<br><br> @param {!string} name - display text for menu <br> @param {!string} id - unique identifier for a menu.<br>      Core Menus in Brackets use a simple  title as an id, for example "file-menu".<br>      Extensions should use the following format: "author.myextension.mymenuname". <br> @param {?string} position - constant defining the position of new the Menu relative<br>  to other Menus. Default is LAST (see Insertion position constants).<br>      <br> @param {?string} relativeID - id of Menu the new Menu will be positioned relative to. Required<br>      when position is AFTER or BEFORE, ignored when position is FIRST or LAST<br> <br> @return {?Menu} the newly created Menu<br>     </p>
<hr>
<pre><code><h2>ContextMenu Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br> @extends {Menu}<br><br> Represents a context menu that can open at a specific location in the UI. <br><br> Clients should not create this object directly and should instead use registerContextMenu()<br> to create new ContextMenu objects.<br><br> Context menus in brackets may be HTML-based or native so clients should not reach into<br> the HTML and should instead manipulate ContextMenus through the API.<br><br> Events:<br>      beforeContextMenuOpen<br>      contextMenuClose<br><br>     </p>
<hr>
<pre><code><h2>ContextMenu.prototype.open (mouseOrLocation)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Displays the ContextMenu at the specified location and dispatches the <br> "beforeContextMenuOpen" event.The menu location may be adjusted to prevent<br> clipping by the browser window. All other menus and ContextMenus will be closed<br> bofore a new menu is shown.<br><br> @param {MouseEvent | {pageX:number, pageY:number}} mouseOrLocation - pass a MouseEvent<br>      to display the menu near the mouse or pass in an object with page x/y coordinates<br>      for a specific location.<br>     </p>
<hr>
<pre><code><h2>ContextMenu.prototype.close ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the context menu and dispatches the "contextMenuClose" event.<br>     </p>
<hr>
<pre><code><h2>registerContextMenu (id)</h2></code></pre><p><strong>return type: </strong><code>?ContextMenu</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers new context menu with Brackets. <br> Extensions should generally use the predefined context menus built into Brackets. Use this <br> API to add a new context menu to UI that is specific to an extension.<br><br> After registering  a new context menu clients should:<br>      - use addMenuItem() to add items to the context menu<br>      - call open() to show the context menu. <br>      For example:<br>      $("#my_ID").contextmenu(function (e) {<br>          if (e.which === 3) {<br>              my_cmenu.open(e);<br>          }<br>      });<br><br> To make menu items be contextual to things like selection, listen for the "beforeContextMenuOpen"<br> to make changes to Command objects before the context menu is shown. MenuItems are views of<br> Commands, which control a MenuItem's name, enabled state, and checked state.<br><br> @param {string} id - unique identifier for context menu.<br>      Core context menus in Brackets use a simple title as an id.<br>      Extensions should use the following format: "author.myextension.mycontextmenu name"<br> @return {?ContextMenu} the newly created context menu<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ChangedDocumentTracker"></a><article>
<p class="path">document/ChangedDocumentTracker.js</p>
<h1>ChangedDocumentTracker</h1>
<pre><code><h2>module</h2></code></pre><p> Defines a ChangedDocumentTracker class to monitor changes to files in the current project.<br> </p>
<hr>
<pre><code><h2>ChangedDocumentTracker ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Tracks "change" events on opened Documents. Used to monitor changes<br> to documents in-memory and update caches. Assumes all documents have<br> changed when the Brackets window loses and regains focus. Does not<br> read timestamps of files on disk. Clients may optionally track file<br> timestamps on disk independently.<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype._addListener (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Assumes all files are changed when the window loses and regains focus.<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype._removeListener (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype._onWindowFocus (event, doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Assumes all files are changed when the window loses and regains focus.<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype._onChange (event, doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Tracks changed documents.<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype.reset ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Empty the set of dirty paths. Begin tracking new dirty documents. <br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype.isPathChanged (path)</h2></code></pre><p><strong>return type: </strong><code>!boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Check if a file path is dirty.<br> @param {!string} file path<br> @return {!boolean} Returns true if the file was dirtied since the last reset.<br>     </p>
<hr>
<pre><code><h2>ChangedDocumentTracker.prototype.getChangedPaths ()</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the set of changed paths since the last reset.<br> @return {Array.} Changed file paths<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="DocumentCommandHandlers"></a><article>
<p class="path">document/DocumentCommandHandlers.js</p>
<pre><code><h2>_$title</h2></code></pre><p><strong>return type: </strong><code>jQueryObject} Container for label shown above editor; must be an inline element </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {jQueryObject} Container for label shown above editor; must be an inline element </p>
<hr>
<pre><code><h2>_$dirtydot</h2></code></pre><p><strong>return type: </strong><code>jQueryObject} Container for dirty dot; must be an inline element </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {jQueryObject} Container for dirty dot; must be an inline element </p>
<hr>
<pre><code><h2>_$titleWrapper</h2></code></pre><p><strong>return type: </strong><code>jQueryObject} Container for _$title; need not be an inline element </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {jQueryObject} Container for _$title; need not be an inline element </p>
<hr>
<pre><code><h2>_currentTitlePath</h2></code></pre><p><strong>return type: </strong><code>string} Label shown above editor for current document: filename and potentially some of its path </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {string} Label shown above editor for current document: filename and potentially some of its path </p>
<hr>
<pre><code><h2>_$titleContainerToolbar</h2></code></pre><p><strong>return type: </strong><code>jQueryObject} Container for _$titleWrapper; if changing title changes this element's height, must kick editor to resize </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {jQueryObject} Container for _$titleWrapper; if changing title changes this element's height, must kick editor to resize </p>
<hr>
<pre><code><h2>_lastToolbarHeight</h2></code></pre><p><strong>return type: </strong><code>Number} Last known height of _$titleContainerToolbar </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Number} Last known height of _$titleContainerToolbar </p>
<hr>
<pre><code><h2>doOpen (fullPath)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Creates a document and displays an editor for the specified file path.<br> @param {!string} fullPath<br> @return {$.Promise} a jQuery promise that will be resolved with a<br>  document for the specified file path, or rejected if the file can not be read.<br>     </p>
<hr>
<pre><code><h2>_defaultOpenDialogFullPath</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Used to track the default directory for the file open dialog<br>     </p>
<hr>
<pre><code><h2>_doOpenWithOptionalPath (fullPath)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Creates a document and displays an editor for the specified file path. <br> If no path is specified, a file prompt is provided for input.<br> @param {?string} fullPath - The path of the file to open; if it's null we'll prompt for it<br> @return {$.Promise} a jQuery promise that will be resolved with a new <br>  document for the specified file path, or rejected if the file can not be read.<br>     </p>
<hr>
<pre><code><h2>handleFileOpen (commandData)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens the given file and makes it the current document. Does NOT add it to the working set.<br> @param {!{fullPath:string}} Params for FILE_OPEN command<br>     </p>
<hr>
<pre><code><h2>handleFileAddToWorkingSet (commandData)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens the given file, makes it the current document, AND adds it to the working set.<br> @param {!{fullPath:string}} Params for FILE_OPEN command<br>     </p>
<hr>
<pre><code><h2>_getUntitledFileSuggestion (dir, baseFileName, fileExt, isFolder)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Ensures the suggested file name doesn't already exit.<br> @param {string} dir  The directory to use<br> @param {string} baseFileName  The base to start with, "-n" will get appened to make unique<br> @param {string} fileExt  The file extension<br> @param {boolean} isFolder True if the suggestion is for a folder name<br> @return {$.Promise} a jQuery promise that will be resolved with a unique name starting with <br>   the given base name<br>     </p>
<hr>
<pre><code><h2>fileNewInProgress</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Prevents re-entrancy into handleFileNewInProject()<br><br> handleFileNewInProject() first prompts the user to name a file and then asynchronously writes the file when the<br> filename field loses focus. This boolean prevent additional calls to handleFileNewInProject() when an existing<br> file creation call is outstanding<br>     </p>
<hr>
<pre><code><h2>_handleNewItemInProject (isFolder)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Bottleneck function for creating new files and folders in the project tree.<br>     </p>
<hr>
<pre><code><h2>handleFileNewInProject ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a new file in the project tree.<br>     </p>
<hr>
<pre><code><h2>handleNewFolderInProject ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a new folder in the project tree.<br>     </p>
<hr>
<pre><code><h2>doSave (docToSave)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Note: if there is an error, the promise is not rejected until the user has dimissed the dialog </p>
<hr>
<pre><code><h2>handleFileSave (commandData)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Saves the given file. If no file specified, assumes the current document.<br> @param {?{doc: Document}} commandData  Document to close, or null<br> @return {$.Promise} a promise that is resolved after the save completes<br>     </p>
<hr>
<pre><code><h2>saveAll ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Saves all unsaved documents. Returns a Promise that will be resolved once ALL the save<br> operations have been completed. If ANY save operation fails, an error dialog is immediately<br> shown and the other files wait to save until it is dismissed; after all files have been<br> processed, the Promise is rejected if any ONE save operation failed.<br><br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>handleFileSaveAll ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Saves all unsaved documents.<br> @return {$.Promise} a promise that is resolved once ALL the saves have been completed; or rejected<br>      after all operations completed if any ONE of them failed.<br>     </p>
<hr>
<pre><code><h2>doRevert (doc)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Reverts the Document to the current contents of its file on disk. Discards any unsaved changes<br> in the Document.<br> @param {Document} doc<br> @return {$.Promise} a Promise that's resolved when done, or rejected with a FileError if the<br>      file cannot be read (after showing an error dialog to the user).<br>     </p>
<hr>
<pre><code><h2>handleFileClose (commandData)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the specified file: removes it from the working set, and closes the main editor if one<br> is open. Prompts user about saving changes first, if document is dirty.<br><br> @param {?{file: FileEntry, promptOnly:boolean}} commandData  Optional bag of arguments:<br>      file - File to close; assumes the current document if not specified.<br>      promptOnly - If true, only displays the relevant confirmation UI and does NOT actually<br>          close the document. This is useful when chaining file-close together with other user<br>          prompts that may be cancelable.<br> @return {$.Promise} a promise that is resolved when the file is closed, or if no file is open.<br>      FUTURE: should we reject the promise if no file is open?<br>     </p>
<hr>
<pre><code><h2>handleFileCloseAll (commandData)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes all open documents; equivalent to calling handleFileClose() for each document, except<br> that unsaved changes are confirmed once, in bulk.<br> @param {?{promptOnly: boolean}}  If true, only displays the relevant confirmation UI and does NOT<br>          actually close any documents. This is useful when chaining close-all together with<br>          other user prompts that may be cancelable.<br> @return {$.Promise} a promise that is resolved when all files are closed<br>     </p>
<hr>
<pre><code><h2>_windowGoingAway</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private - tracks our closing state if we get called again<br>    </p>
<hr>
<pre><code><h2>_handleWindowGoingAway (commandData, postCloseHandler, failHandler)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Common implementation for close/quit/reload which all mostly<br> the same except for the final step<br>    </p>
<hr>
<pre><code><h2>_handleAbortQuit ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Implementation for abortQuit callback to reset quit sequence settings<br>    </p>
<hr>
<pre><code><h2>handleFileCloseWindow (commandData)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Confirms any unsaved changes, then closes the window </p>
<hr>
<pre><code><h2>handleFileRename ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Show a textfield to rename whatever is currently selected in the sidebar (working set OR tree) </p>
<hr>
<pre><code><h2>handleFileQuit (commandData)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the window, then quits the app </p>
<hr>
<pre><code><h2>handleFileReload (commandData)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Does a full reload of the browser window </p>
<hr>
<pre><code><h2>_addedNavKeyHandler</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Are we already listening for a keyup to call detectDocumentNavEnd()? </p>
<hr>
<pre><code><h2>detectDocumentNavEnd (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> When the Ctrl key is released, if we were in the middle of a next/prev document navigation<br> sequence, now is the time to end it and update the MRU order. If we allowed the order to update<br> on every next/prev increment, the 1st & 2nd entries would just switch places forever and we'd<br> never get further down the list.<br> @param {jQueryEvent} event Key-up event<br>     </p>
<hr>
<pre><code><h2>goNextPrevDoc (inc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Navigate to the next/previous (MRU) document. Don't update MRU order yet </p>
<hr>
</article>
<hr>
<hr>
<a name="DocumentManager"></a><article>
<p class="path">document/DocumentManager.js</p>
<h1>DocumentManager</h1>
<pre><code><h2>module</h2></code></pre><p> DocumentManager maintains a list of currently 'open' Documents. It also owns the list of files in<br> the working set, and the notion of which Document is currently shown in the main editor UI area.<br> <br> Document is the model for a file's contents; it dispatches events whenever those contents change.<br> To transiently inspect a file's content, simply get a Document and call getText() on it. However,<br> to be notified of Document changes or to modify a Document, you MUST call addRef() to ensure the<br> Document instance 'stays alive' and is shared by all other who read/modify that file. ('Open'<br> Documents are all Documents that are 'kept alive', i.e. have ref count > 0).<br><br> To get a Document, call getDocumentForPath(); never new up a Document yourself.<br> <br> Secretly, a Document may use an Editor instance to act as the model for its internal state. (This<br> is unavoidable because CodeMirror does not separate its model from its UI). Documents are not<br> modifiable until they have a backing 'master Editor'. Creation of the backing Editor is owned by<br> EditorManager. A Document only gets a backing Editor if it becomes the currentDocument, or if edits<br> occur in any Editor (inline or full-sized) bound to the Document; there is currently no other way<br> to ensure a Document is modifiable.<br><br> A non-modifiable Document may still dispatch change notifications, if the Document was changed<br> externally on disk.<br><br> Aside from the text content, Document tracks a few pieces of metadata - notably, whether there are<br> any unsaved changes.<br><br> This module dispatches several events:<br><br>    - dirtyFlagChange -- When any Document's isDirty flag changes. The 2nd arg to the listener is the<br>      Document whose flag changed.<br>    - documentSaved -- When a Document's changes have been saved. The 2nd arg to the listener is the <br>      Document that has been saved.<br><br>    - currentDocumentChange -- When the value of getCurrentDocument() changes.<br><br>    To listen for working set changes, you must listen to *all* of these events:<br>    - workingSetAdd -- When a file is added to the working set (see getWorkingSet()). The 2nd arg<br>      to the listener is the added FileEntry.<br>    - workingSetAddList -- When multiple files are added to the working set (e.g. project open, multiple file open).<br>      The 2nd arg to the listener is the array of added FileEntry objects.<br>    - workingSetRemove -- When a file is removed from the working set (see getWorkingSet()). The<br>      2nd arg to the listener is the removed FileEntry.<br>    - workingSetRemoveList -- When multiple files are removed from the working set (e.g. project close).<br>      The 2nd arg to the listener is the array of removed FileEntry objects.<br>    - workingSetReorder -- When the indexes of 2 files are swapped. Listener receives no arguments.<br>    - workingSetSort -- When the workingSet array is sorted. Listener receives no arguments.<br>      TODO (#2076): combine workingSetSort & workingSetReorder since they convey nearly identical information.<br><br>    - fileNameChange -- When the name of a file or folder has changed. The 2nd arg is the old name.<br>      The 3rd arg is the new name.<br><br> These are jQuery events, so to listen for them you do something like this:<br>    $(DocumentManager).on("eventname", handler);<br> </p>
<hr>
<pre><code><h2>PREFERENCES_CLIENT_ID</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unique PreferencesManager clientID<br>     </p>
<hr>
<pre><code><h2>_currentDocument</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @see DocumentManager.getCurrentDocument()<br>     </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {PreferenceStorage}<br>     </p>
<hr>
<pre><code><h2>getCurrentDocument ()</h2></code></pre><p><strong>return type: </strong><code>?Document</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the Document that is currently open in the editor UI. May be null.<br> When this changes, DocumentManager dispatches a "currentDocumentChange" event. The current<br> document always has a backing Editor (Document._masterEditor != null) and is thus modifiable.<br> @return {?Document}<br>     </p>
<hr>
<pre><code><h2>_workingSet</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {Array.}<br> @see DocumentManager.getWorkingSet()<br>     </p>
<hr>
<pre><code><h2>_workingSetMRUOrder</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Contains the same set of items as _workingSet, but ordered by how recently they were _currentDocument (0 = most recent).<br> @type {Array.}<br>     </p>
<hr>
<pre><code><h2>_workingSetAddedOrder</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Contains the same set of items as _workingSet, but ordered in the way they where added to _workingSet (0 = last added).<br> @type {Array.}<br>     </p>
<hr>
<pre><code><h2>_documentNavPending</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> While true, the MRU order is frozen<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>_isProjectChanging</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> While true, allow preferences to be saved<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>_openDocuments</h2></code></pre><p><strong>return type: </strong><code>Object.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> All documents with refCount > 0. Maps Document.file.fullPath -> Document.<br> @private<br> @type {Object.}<br>     </p>
<hr>
<pre><code><h2>getWorkingSet ()</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns a list of items in the working set in UI list order. May be 0-length, but never null.<br><br> When a file is added this list, DocumentManager dispatches a "workingSetAdd" event.<br> When a file is removed from list, DocumentManager dispatches a "workingSetRemove" event.<br> To listen for ALL changes to this list, you must listen for both events.<br><br> Which items belong in the working set is managed entirely by DocumentManager. Callers cannot<br> (yet) change this collection on their own.<br><br> @return {Array.}<br>     </p>
<hr>
<pre><code><h2>findInWorkingSet (fullPath, list)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the index of the file matching fullPath in the working set.<br> Returns -1 if not found.<br> @param {!string} fullPath<br> @param {Array.=} list Pass this arg to search a different array of files. Internal<br>          use only.<br> @returns {number} index<br>     </p>
<hr>
<pre><code><h2>findInWorkingSetAddedOrder (fullPath)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the index of the file matching fullPath in _workingSetAddedOrder.<br> Returns -1 if not found.<br> @param {!string} fullPath<br> @returns {number} index<br>     </p>
<hr>
<pre><code><h2>getAllOpenDocuments ()</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns all Documents that are 'open' in the UI somewhere (for now, this means open in an<br> inline editor and/or a full-size editor). Only these Documents can be modified, and only<br> these Documents are synced with external changes on disk.<br> @return {Array.}<br>     </p>
<hr>
<pre><code><h2>addToWorkingSet (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds the given file to the end of the working set list, if it is not already in the list.<br> Does not change which document is currently open in the editor. Completes synchronously.<br> @param {!FileEntry} file<br>     </p>
<hr>
<pre><code><h2>addListToWorkingSet (fileList)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds the given file list to the end of the working set list.<br> Does not change which document is currently open in the editor.<br> More efficient than calling addToWorkingSet() (in a loop) for<br> a list of files because there's only 1 redraw at the end<br> @param {!FileEntryArray} fileList<br>     </p>
<hr>
<pre><code><h2>removeFromWorkingSet (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes the given file from the working set list, if it was in the list. Does not change<br> the current editor even if it's for this file.<br> @param {!FileEntry} file<br>     </p>
<hr>
<pre><code><h2>_removeAllFromWorkingSet ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes all files from the working set list.<br>     </p>
<hr>
<pre><code><h2>_markMostRecent (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves document to the front of the MRU list, IF it's in the working set; no-op otherwise.<br> @param {!Document}<br>     </p>
<hr>
<pre><code><h2>swapWorkingSetIndexes (index1, index2)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Mutually exchanges the files at the indexes passed by parameters.<br> @param {!number} index - old file index<br> @param {!number} index - new file index<br>     </p>
<hr>
<pre><code><h2>sortWorkingSet (compareFn)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sorts _workingSet using the compare function<br> @param {!function(FileEntry, FileEntry)} compareFn - the function that will be used inside JavaScript's<br>      sort function. The return a value should be >0 (sort a to a lower index than b), =0 (leaves a and b<br>      unchanged with respect to each other) or <0 (sort b to a lower index than a) and must always returns<br>      the same value when given a specific pair of elements a and b as its two arguments.<br>      Documentation: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/sort<br>     </p>
<hr>
<pre><code><h2>beginDocumentNavigation ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Indicate that changes to currentDocument are temporary for now, and should not update the MRU<br> ordering of the working set. Useful for next/previous keyboard navigation (until Ctrl is released)<br> or for incremental-search style document preview like Quick Open will eventually have.<br> Can be called any number of times, and ended by a single finalizeDocumentNavigation() call.<br>     </p>
<hr>
<pre><code><h2>finalizeDocumentNavigation ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Un-freezes the MRU list after one or more beginDocumentNavigation() calls. Whatever document is<br> current is bumped to the front of the MRU list.<br>     </p>
<hr>
<pre><code><h2>setCurrentDocument (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Changes currentDocument to the given Document, firing currentDocumentChange, which in turn<br> causes this Document's main editor UI to be shown in the editor pane, updates the selection<br> in the file tree / working set UI, etc. This call may also add the item to the working set.<br> <br> @param {!Document} document  The Document to make current. May or may not already be in the<br>      working set.<br>     </p>
<hr>
<pre><code><h2>_clearCurrentDocument ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Changes currentDocument to null, causing no full Editor to be shown in the UI </p>
<hr>
<pre><code><h2>closeFullEditor (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the full editor for the given file (if there is one), and removes it from the working<br> set. Any other editors for this Document remain open. Discards any unsaved changes - it is<br> expected that the UI has already confirmed with the user before calling this.<br><br> Changes currentDocument if this file was the current document (may change to null).<br><br> This is a subset of notifyFileDeleted(). Use this for the user-facing Close command.<br><br> @param {!FileEntry} file<br>     </p>
<hr>
<pre><code><h2>closeAll ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Equivalent to calling closeFullEditor() for all Documents. Same caveat: this discards any<br> unsaved changes, so the UI should confirm with the user before calling this.<br>     </p>
<hr>
<pre><code><h2>_gcDocuments ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Cleans up any loose Documents whose only ref is its own master Editor, and that Editor is not<br> rooted in the UI anywhere. This can happen if the Editor is auto-created via Document APIs that<br> trigger _ensureMasterEditor() without making it dirty. E.g. a command invoked on the focused<br> inline editor makes no-op edits or does a read-only operation.<br>     </p>
<hr>
<pre><code><h2>Document Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br> Model for the contents of a single file and its current modification state.<br> See DocumentManager documentation for important usage notes.<br><br> Document dispatches these events:<br><br> change -- When the text of the editor changes (including due to undo/redo). <br><br>        Passes ({Document}, {ChangeList}), where ChangeList is a linked list (NOT an array)<br>        of change record objects. Each change record looks like:<br><br>            { from: start of change, expressed as {line: , ch: },<br>              to: end of change, expressed as {line: , ch: },<br>              text: array of lines of text to replace existing text,<br>              next: next change record in the linked list, or undefined if this is the last record }<br>      <br>        The line and ch offsets are both 0-based.<br><br>        The ch offset in "from" is inclusive, but the ch offset in "to" is exclusive. For example,<br>        an insertion of new content (without replacing existing content) is expressed by a range<br>        where from and to are the same.<br><br>        If "from" and "to" are undefined, then this is a replacement of the entire text content.<br><br>        IMPORTANT: If you listen for the "change" event, you MUST also addRef() the document <br>        (and releaseRef() it whenever you stop listening). You should also listen to the "deleted"<br>        event.<br>  <br>        (FUTURE: this is a modified version of the raw CodeMirror change event format; may want to make <br>        it an ordinary array)<br><br> deleted -- When the file for this document has been deleted. All views onto the document should<br>      be closed. The document will no longer be editable or dispatch "change" events.<br><br> @param {!FileEntry} file  Need not lie within the project.<br> @param {!Date} initialTimestamp  File's timestamp when we read it off disk.<br> @param {!string} rawText  Text content of the file.<br>     </p>
<hr>
<pre><code><h2>Document.prototype_refCount</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Number of clients who want this Document to stay alive. The Document is listed in<br> DocumentManager._openDocuments whenever refCount > 0.<br>     </p>
<hr>
<pre><code><h2>Document.prototypefile</h2></code></pre><p><strong>return type: </strong><code>!FileEntry}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The FileEntry for this document. Need not lie within the project.<br> @type {!FileEntry}<br>     </p>
<hr>
<pre><code><h2>Document.prototypeisDirty</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Whether this document has unsaved changes or not.<br> When this changes on any Document, DocumentManager dispatches a "dirtyFlagChange" event.<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>Document.prototypediskTimestamp</h2></code></pre><p><strong>return type: </strong><code>!Date}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> What we expect the file's timestamp to be on disk. If the timestamp differs from this, then<br> it means the file was modified by an app other than Brackets.<br> @type {!Date}<br>     </p>
<hr>
<pre><code><h2>Document.prototype_text</h2></code></pre><p><strong>return type: </strong><code>?string}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The text contents of the file, or null if our backing model is _masterEditor.<br> @type {?string}<br>     </p>
<hr>
<pre><code><h2>Document.prototype_masterEditor</h2></code></pre><p><strong>return type: </strong><code>?Editor}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Editor object representing the full-size editor UI for this document. May be null if Document<br> has not yet been modified or been the currentDocument; in that case, our backing model is the<br> string _text.<br> @type {?Editor}<br>     </p>
<hr>
<pre><code><h2>Document.prototype_lineEndings</h2></code></pre><p><strong>return type: </strong><code>FileUtils.LINE_ENDINGS_CRLF|FileUtils.LINE_ENDINGS_LF}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The content's line-endings style. If a Document is created on empty text, or text with<br> inconsistent line endings, defaults to the current platform's standard endings.<br> @type {FileUtils.LINE_ENDINGS_CRLF|FileUtils.LINE_ENDINGS_LF}<br>     </p>
<hr>
<pre><code><h2>Document.prototype.addRef ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add a ref to keep this Document alive </p>
<hr>
<pre><code><h2>Document.prototype.releaseRef ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove a ref that was keeping this Document alive </p>
<hr>
<pre><code><h2>Document.prototype._makeEditable (masterEditor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Attach a backing Editor to the Document, enabling setText() to be called. Assumes Editor has<br> already been initialized with the value of getText(). ONLY Editor should call this (and only<br> when EditorManager has told it to act as the master editor).<br> @param {!Editor} masterEditor<br>     </p>
<hr>
<pre><code><h2>Document.prototype._makeNonEditable ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Detach the backing Editor from the Document, disallowing setText(). The text content is<br> stored back onto _text so other Document clients continue to have read-only access. ONLY<br> Editor.destroy() should call this.<br>     </p>
<hr>
<pre><code><h2>Document.prototype._ensureMasterEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Guarantees that _masterEditor is non-null. If needed, asks EditorManager to create a new master<br> editor bound to this Document (which in turn causes Document._makeEditable() to be called).<br> Should ONLY be called by Editor and Document.<br>     </p>
<hr>
<pre><code><h2>Document.prototype.getText (useOriginalLineEndings)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the document's current contents; may not be saved to disk yet. Whenever this<br> value changes, the Document dispatches a "change" event.<br><br> @param {boolean=} useOriginalLineEndings If true, line endings in the result depend on the<br>      Document's line endings setting (based on OS & the original text loaded from disk).<br>      If false, line endings are always \n (like all the other Document text getter methods).<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>Document.prototype.setText (text)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the contents of the document. Treated as an edit. Line endings will be rewritten to<br> match the document's current line-ending style.<br> @param {!string} text The text to replace the contents of the document with.<br>     </p>
<hr>
<pre><code><h2>Document.prototype.refreshText (text, newTimestamp)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the contents of the document. Treated as reloading the document from disk: the document<br> will be marked clean with a new timestamp, the undo/redo history is cleared, and we re-check<br> the text's line-ending style. CAN be called even if there is no backing editor.<br> @param {!string} text The text to replace the contents of the document with.<br> @param {!Date} newTimestamp Timestamp of file at the time we read its new contents from disk.<br>     </p>
<hr>
<pre><code><h2>Document.prototype.replaceRange (text, start, end)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds, replaces, or removes text. If a range is given, the text at that range is replaced with the<br> given new text; if text == "", then the entire range is effectively deleted. If 'end' is omitted,<br> then the new text is inserted at that point and all existing text is preserved. Line endings will<br> be rewritten to match the document's current line-ending style.<br> @param {!string} text  Text to insert or replace the range with<br> @param {!{line:number, ch:number}} start  Start of range, inclusive (if 'to' specified) or insertion point (if not)<br> @param {?{line:number, ch:number}} end  End of range, exclusive; optional<br>     </p>
<hr>
<pre><code><h2>Document.prototype.getRange (start, end)</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the characters in the given range. Line endings are normalized to '\n'.<br> @param {!{line:number, ch:number}} start  Start of range, inclusive<br> @param {!{line:number, ch:number}} end  End of range, exclusive<br> @return {!string}<br>     </p>
<hr>
<pre><code><h2>Document.prototype.getLine (lineNum)</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the text of the given line (excluding any line ending characters)<br> @param {number} Zero-based line number<br> @return {!string}<br>     </p>
<hr>
<pre><code><h2>Document.prototype.batchOperation (doOperation)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Batches a series of related Document changes. Repeated calls to replaceRange() should be wrapped in a<br> batch for efficiency. Begins the batch, calls doOperation(), ends the batch, and then returns.<br> @param {function()} doOperation<br>     </p>
<hr>
<pre><code><h2>Document.prototype._handleEditorChange (event, editor, changeList)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Handles changes from the master backing Editor. Changes are triggered either by direct edits<br> to that Editor's UI, OR by our setText()/refreshText() methods.<br> @private<br>     </p>
<hr>
<pre><code><h2>Document.prototype._markClean ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>Document.prototype.notifySaved ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called when the document is saved (which currently happens in DocumentCommandHandlers). Marks the<br> document not dirty and notifies listeners of the save.<br>     </p>
<hr>
<pre><code><h2>getDocumentForPath (fullPath)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets an existing open Document for the given file, or creates a new one if the Document is<br> not currently open ('open' means referenced by the UI somewhere). Always use this method to<br> get Documents; do not call the Document constructor directly. This method is safe to call<br> in parallel.<br><br> If you are going to hang onto the Document for more than just the duration of a command - e.g.<br> if you are going to display its contents in a piece of UI - then you must addRef() the Document<br> and listen for changes on it. (Note: opening the Document in an Editor automatically manages<br> refs and listeners for that Editor UI).<br><br> @param {!string} fullPath<br> @return {$.Promise} A promise object that will be resolved with the Document, or rejected<br>      with a FileError if the file is not yet open and can't be read from disk.<br>     </p>
<hr>
<pre><code><h2>getDocumentForPath._pendingDocumentPromises</h2></code></pre><p><strong>return type: </strong><code>Object.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Document promises that are waiting to be resolved. It is possible for multiple clients<br> to request the same document simultaneously before the initial request has completed.<br> In particular, this happens at app startup where the working set is created and the<br> intial active document is opened in an editor. This is essential to ensure that only<br> 1 Document exists for any FileEntry.<br> @private<br> @type {Object.}<br>     </p>
<hr>
<pre><code><h2>getOpenDocumentForPath (fullPath)</h2></code></pre><p><strong>return type: </strong><code>?Document</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the existing open Document for the given file, or null if the file is not open ('open'<br> means referenced by the UI somewhere). If you will hang onto the Document, you must addRef()<br> it; see {@link getDocumentForPath()} for details.<br> @param {!string} fullPath<br> @return {?Document}<br>     </p>
<hr>
<pre><code><h2>notifyFileDeleted (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Reacts to a file being deleted: if there is a Document for this file, causes it to dispatch a<br> "deleted" event; ensures it's not the currentDocument; and removes this file from the working<br> set. These actions in turn cause all open editors for this file to close. Discards any unsaved<br> changes - it is expected that the UI has already confirmed with the user before calling.<br><br> To simply close a main editor when the file hasn't been deleted, use closeFullEditor() or FILE_CLOSE.<br><br> FUTURE: Instead of an explicit notify, we should eventually listen for deletion events on some<br> sort of "project file model," making this just a private event handler.<br><br> @param {!FileEntry} file<br>     </p>
<hr>
<pre><code><h2>getNextPrevFile (inc)</h2></code></pre><p><strong>return type: </strong><code>?FileEntry</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the next or previous file in the working set, in MRU order (relative to currentDocument).<br> @param {Number} inc  -1 for previous, +1 for next; no other values allowed<br> @return {?FileEntry}  null if working set empty<br>     </p>
<hr>
<pre><code><h2>_savePreferences ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Preferences callback. Saves the document file paths for the working set.<br>     </p>
<hr>
<pre><code><h2>_beforeProjectClose ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Handle beforeProjectClose event<br>     </p>
<hr>
<pre><code><h2>_projectOpen ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Initializes the working set.<br>     </p>
<hr>
<pre><code><h2>notifyPathNameChanged (oldName, newName, isFolder)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called after a file or folder name has changed. This function is responsible<br> for updating underlying model data and notifying all views of the change.<br><br> @param {string} oldName The old name of the file/folder<br> @param {string} newName The new name of the file/folder<br> @param {boolean} isFolder True if path is a folder; False if it is a file.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="TextRange"></a><article>
<p class="path">document/TextRange.js</p>
<h1>TextRange</h1>
<pre><code><h2>module</h2></code></pre><p> </p>
<hr>
<pre><code><h2>TextRange Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br><br> Stores a range of lines that is automatically maintained as the Document changes. The range<br> MAY drop out of sync with the Document in certain edge cases; startLine & endLine will become<br> null when that happens.<br><br> Important: you must dispose() a TextRange when you're done with it. Because TextRange addRef()s<br> the Document (in order to listen to it), you will leak Documents otherwise.<br><br> TextRange dispatches two events:<br>  - change -- When the range changes (due to a Document change)<br>  - lostSync -- When the backing Document changes in such a way that the range can no longer<br>          accurately be maintained. Generally, occurs whenever an edit spans a range boundary.<br>          After this, startLine & endLine will be unusable (set to null).<br>          Also occurs when the document is deleted, though startLine & endLine won't be modified<br> These events only ever occur in response to Document changes, so if you are already listening<br> to the Document, you could ignore the TextRange events and just read its updated value in your<br> own Document change handler.<br><br> @param {!Document} document<br> @param {number} startLine First line in range (0-based, inclusive)<br> @param {number} endLine   Last line in range (0-based, inclusive)<br>     </p>
<hr>
<pre><code><h2>TextRange.prototype.dispose (editor, change)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Detaches from the Document. The TextRange will no longer update or send change events </p>
<hr>
<pre><code><h2>TextRange.prototypedocument</h2></code></pre><p><strong>return type: </strong><code>!Document} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {!Document} </p>
<hr>
<pre><code><h2>TextRange.prototypestartLine</h2></code></pre><p><strong>return type: </strong><code>?number} Null after "lostSync" is dispatched </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {?number} Null after "lostSync" is dispatched </p>
<hr>
<pre><code><h2>TextRange.prototypeendLine</h2></code></pre><p><strong>return type: </strong><code>?number} Null after "lostSync" is dispatched </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {?number} Null after "lostSync" is dispatched </p>
<hr>
<pre><code><h2>TextRange.prototype._applySingleChangeToRange (change)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Applies a single Document change object (out of the linked list of multiple such objects)<br> to this range. Returns true if the range was changed as a result.<br>     </p>
<hr>
<pre><code><h2>TextRange.prototype._applyChangesToRange (changeList)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Updates the range based on the changeList from a Document "change" event. Dispatches a<br> "change" event if the range was adjusted at all. Dispatches a "lostSync" event instead if the<br> range can no longer be accurately maintained.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="CodeHintManager"></a><article>
<p class="path">editor/CodeHintManager.js</p>
<pre><code><h2>CodeHintList Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br><br> Displays a popup list of code completions.<br> Currently only HTML tags are supported, but this will greatly be extended in coming sprint<br> to include: extensibility API, HTML attributes hints, JavaScript hints, CSS hints<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype._handleItemClick (completion)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Enters the code completion text into the editor and closes list if the provider <br> returns true. Otherwise, get a new query and update the list based on the new query.<br> @string {string} completion - text to insert into current code editor<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.addItem (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds a single item to the hint list<br> @param {string} name<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.updateList ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Rebuilds the hint list based on this.query<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.clearList ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes all list items from hint list<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.buildListView ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Rebuilds the list items for the hint list based on this.displayList<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.setSelectedIndex (index)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Selects the item in the hint list specified by index<br> @param {Number} index<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.updateQueryAndList ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the new query from the current provider and rebuilds the hint list based on the new one.<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.handleKeyEvent (editor, event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handles key presses when the hint list is being displayed<br> @param {Editor} editor<br> @param {KeyBoardEvent} keyEvent<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.isOpen ()</h2></code></pre><p><strong>return type: </strong><code>Boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return true if the CodeHintList is open.<br> @return {Boolean}<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.open (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Displays the hint list at the current cursor position<br> @param {Editor} editor<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.close ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the hint list<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.calcHintListLocation ()</h2></code></pre><p><strong>return type: </strong><code>Object. </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Computes top left location for hint list so that the list is not clipped by the window<br> @return {Object. }<br>     </p>
<hr>
<pre><code><h2>CodeHintList.prototype.getItemsPerPage ()</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Calculate the number of items per scroll page. Used for PageUp and PageDown.<br> @return {number}<br>     </p>
<hr>
<pre><code><h2>showHint (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Show the code hint list near the current cursor position for the specified editor<br> @param {Editor}<br>      </p>
<hr>
<pre><code><h2>handleKeyEvent (editor, event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handles keys related to displaying, searching, and navigating the hint list<br> @param {Editor} editor<br> @param {KeyboardEvent} event<br>     </p>
<hr>
<pre><code><h2>handleChange (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p>     </p>
<hr>
<pre><code><h2>registerHintProvider (providerInfo)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers an object that is able to provide code hints. When the user requests a code<br> hint getQueryInfo() will be called on every hint provider. Providers should examine<br> the state of the editor and return a search query object with a filter string if hints <br> can be provided. search() will then be called allowing the hint provider to create a <br> list of hints for the search query. When the user chooses a hint handleSelect() is called<br> so that the hint provider can insert the hint into the editor.<br><br> @param {Object.< getQueryInfo: function(editor, cursor),<br>                  search: function(string),<br>                  handleSelect: function(string, Editor, cursor),<br>                  shouldShowHintsOnKey: function(string)>}<br><br> Parameter Details:<br> - getQueryInfo - examines cursor location of editor and returns an object representing<br>      the search query to be used for hinting. queryStr is a required property of the search object<br>      and a client may provide other properties on the object to carry more context about the query.<br> - search - takes a query object and returns an array of hint strings based on the queryStr property<br>      of the query object.<br> - handleSelect - takes a completion string and inserts it into the editor near the cursor<br>      position. It should return true by default to close the hint list, but if the code hint provider<br>      can return false if it wants to keep the hint list open and continue with a updated list. <br> - shouldShowHintsOnKey - inspects the char code and returns true if it wants to show code hints on that key.<br>     </p>
<hr>
<pre><code><h2>_getCodeHintList ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Expose CodeHintList for unit testing<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="CSSInlineEditor"></a><article>
<p class="path">editor/CSSInlineEditor.js</p>
<pre><code><h2>_getSelectorName (editor, pos)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Given a position in an HTML editor, returns the relevant selector for the attribute/tag<br> surrounding that position, or "" if none is found.<br> @param {!Editor} editor<br> @private<br>     </p>
<hr>
<pre><code><h2>htmlToCSSProvider (hostEditor, pos)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> This function is registered with EditManager as an inline editor provider. It creates a CSSInlineEditor<br> when cursor is on an HTML tag name, class attribute, or id attribute, find associated<br> CSS rules and show (one/all of them) in an inline editor.<br><br> @param {!Editor} editor<br> @param {!{line:Number, ch:Number}} pos<br> @return {$.Promise} a promise that will be resolved with an InlineWidget<br>      or null if we're not going to provide anything.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Editor"></a><article>
<p class="path">editor/Editor.js</p>
<h1>Editor</h1>
<pre><code><h2>module</h2></code></pre><p> Editor is a 1-to-1 wrapper for a CodeMirror editor instance. It layers on Brackets-specific<br> functionality and provides APIs that cleanly pass through the bits of CodeMirror that the rest<br> of our codebase may want to interact with. An Editor is always backed by a Document, and stays<br> in sync with its content; because Editor keeps the Document alive, it's important to always<br> destroy() an Editor that's going away so it can release its Document ref.<br><br> For now, there's a distinction between the "master" Editor for a Document - which secretly acts<br> as the Document's internal model of the text state - and the multitude of "slave" secondary Editors<br> which, via Document, sync their changes to and from that master.<br><br> For now, direct access to the underlying CodeMirror object is still possible via _codeMirror --<br> but this is considered deprecated and may go away.<br>  <br> The Editor object dispatches the following events:<br>    - keyEvent -- When any key event happens in the editor (whether it changes the text or not).<br>          Event handlers are passed ({Editor}, {KeyboardEvent}). The 2nd arg is the raw DOM event.<br>          Note: most listeners will only want to respond when event.type === "keypress".<br>    - cursorActivity -- When the user moves the cursor or changes the selection, or an edit occurs.<br>          Note: do not listen to this in order to be generally informed of edits--listen to the<br>          "change" event on Document instead.<br>    - scroll -- When the editor is scrolled, either by user action or programmatically.<br>    - lostContent -- When the backing Document changes in such a way that this Editor is no longer<br>          able to display accurate text. This occurs if the Document's file is deleted, or in certain<br>          Document->editor syncing edge cases that we do not yet support (the latter cause will<br>          eventually go away). <br><br> The Editor also dispatches "change" events internally, but you should listen for those on<br> Documents, not Editors.<br><br> These are jQuery events, so to listen for them you do something like this:<br>    $(editorInstance).on("eventname", handler);<br> </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Editor preferences </p>
<hr>
<pre><code><h2>_useTabChar</h2></code></pre><p><strong>return type: </strong><code>boolean}  Global setting: When inserting new text, use tab characters? (instead of spaces) </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {boolean}  Global setting: When inserting new text, use tab characters? (instead of spaces) </p>
<hr>
<pre><code><h2>_tabSize</h2></code></pre><p><strong>return type: </strong><code>boolean}  Global setting: Tab size </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {boolean}  Global setting: Tab size </p>
<hr>
<pre><code><h2>_indentUnit</h2></code></pre><p><strong>return type: </strong><code>boolean}  Global setting: Indent unit (i.e. number of spaces when indenting) </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {boolean}  Global setting: Indent unit (i.e. number of spaces when indenting) </p>
<hr>
<pre><code><h2>_handleTabKey (instance)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Handle Tab key press.<br> @param {!CodeMirror} instance CodeMirror instance.<br>     </p>
<hr>
<pre><code><h2>_handleSoftTabNavigation (instance, direction, functionName)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Handle left arrow, right arrow, backspace and delete keys when soft tabs are used.<br> @param {!CodeMirror} instance CodeMirror instance <br> @param {number} direction Direction of movement: 1 for forward, -1 for backward<br> @param {function} functionName name of the CodeMirror function to call<br> @return {boolean} true if key was handled<br>     </p>
<hr>
<pre><code><h2>_checkElectricChars (jqEvent, editor, event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Checks if the user just typed a closing brace/bracket/paren, and considers automatically<br> back-indenting it if so.<br>     </p>
<hr>
<pre><code><h2>_instances</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> List of all current (non-destroy()ed) Editor instances. Needed when changing global preferences<br> that affect all editors, e.g. tabbing or color scheme settings.<br> @type {Array.}<br>     </p>
<hr>
<pre><code><h2>Editor Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br><br> Creates a new CodeMirror editor instance bound to the given Document. The Document need not have<br> a "master" Editor realized yet, even if makeMasterEditor is false; in that case, the first time<br> an edit occurs we will automatically ask EditorManager to create a "master" editor to render the<br> Document modifiable.<br><br> ALWAYS call destroy() when you are done with an Editor - otherwise it will leak a Document ref.<br><br> @param {!Document} document  <br> @param {!boolean} makeMasterEditor  If true, this Editor will set itself as the (secret) "master"<br>          Editor for the Document. If false, this Editor will attach to the Document as a "slave"/<br>          secondary editor.<br> @param {!string} mode  Syntax-highlighting language mode; "" means plain-text mode.<br>          See {@link EditorUtils#getModeFromFileExtension()}.<br> @param {!jQueryObject} container  Container to add the editor to.<br> @param {!Object} additionalKeys  Mapping of keyboard shortcuts to<br>          custom handler functions. Mapping is in CodeMirror format<br> @param {{startLine: number, endLine: number}=} range If specified, range of lines within the document<br>          to display in this editor. Inclusive.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.destroy ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes this editor from the DOM and detaches from the Document. If this is the "master"<br> Editor that is secretly providing the Document's backing state, then the Document reverts to<br> a read-only string-backed mode.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._selectAllVisible ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handles Select All specially when we have a visible range in order to work around<br> bugs in CodeMirror when lines are hidden.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._updateHiddenLines ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Ensures that the lines that are actually hidden in the inline editor correspond to<br> the desired visible range.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._handleEditorChange (event, editor, changeList)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Responds to changes in the CodeMirror editor's text, syncing the changes to the Document.<br> There are several cases where we want to ignore a CodeMirror change:<br>  - if we're the master editor, editor changes can be ignored because Document is already listening<br>    for our changes<br>  - if we're a secondary editor, editor changes should be ignored if they were caused by us reacting<br>    to a Document change<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._handleDocumentChange (event, doc, changeList)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Responds to changes in the Document's text, syncing the changes into our CodeMirror instance.<br> There are several cases where we want to ignore a Document change:<br>  - if we're the master editor, Document changes should be ignored becuase we already have the right<br>    text (either the change originated with us, or it has already been set into us by Document)<br>  - if we're a secondary editor, Document changes should be ignored if they were caused by us sending<br>    the document an editor change that originated with us<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._handleDocumentDeleted (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Responds to the Document's underlying file being deleted. The Document is now basically dead,<br> so we must close.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._installEditorListeners ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Install singleton event handlers on the CodeMirror instance, translating them into multi-<br> listener-capable jQuery events on the Editor instance.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._resetText (text)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the contents of the editor and clears the undo/redo history. Dispatches a change event.<br> Semi-private: only Document should call this.<br> @param {!string} text<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getCursorPos (expandTabs)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the current cursor position within the editor. If there is a selection, returns whichever<br> end of the range the cursor lies at.<br> @param {boolean} expandTabs If true, return the actual visual column number instead of the character offset in<br>      the "ch" property.<br> @return !{line:number, ch:number}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setCursorPos (line, ch)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the cursor position within the editor. Removes any selection.<br> @param {number} line The 0 based line number.<br> @param {number=} ch  The 0 based character position; treated as 0 if unspecified.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.indexFromPos (coords)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Given a position, returns its index within the text (assuming \n newlines)<br> @param {!{line:number, ch:number}}<br> @return {number}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.posWithinRange (pos, start, end)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns true if pos is between start and end (inclusive at both ends)<br> @param {{line:number, ch:number}} pos<br> @param {{line:number, ch:number}} start<br> @param {{line:number, ch:number}} end<br><br>     </p>
<hr>
<pre><code><h2>Editor.prototype.hasSelection ()</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {boolean} True if there's a text selection; false if there's just an insertion point<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getSelection ()</h2></code></pre><p><strong>return type: </strong><code>!{start:{line:number, ch:number}, end:{line:number, ch:number}}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the current selection. Start is inclusive, end is exclusive. If there is no selection,<br> returns the current cursor position as both the start and end of the range (i.e. a selection<br> of length zero).<br> @return {!{start:{line:number, ch:number}, end:{line:number, ch:number}}}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getSelectedText ()</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {!string} The currently selected text, or "" if no selection. Includes \n if the<br> selection spans multiple lines (does NOT reflect the Document's line-endings style).<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setSelection (start, end)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the current selection. Start is inclusive, end is exclusive. Places the cursor at the<br> end of the selection range.<br> @param {!{line:number, ch:number}} start<br> @param {!{line:number, ch:number}} end<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.selectWordAt (pos)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Selects word that the given pos lies within or adjacent to. If pos isn't touching a word<br> (e.g. within a token like "//"), moves the cursor to pos without selecting a range.<br> Adapted from selectWordAt() in CodeMirror v2.<br> @param {!{line:number, ch:number}}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.lineCount ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the total number of lines in the the document (includes lines not visible in the viewport)<br> @returns {!number}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getFirstVisibleLine ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the number of the first visible line in the editor.<br> @returns {number} The 0-based index of the first visible line.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getLastVisibleLine ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the number of the last visible line in the editor.<br> @returns {number} The 0-based index of the last visible line.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.totalHeight (includePadding)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the total height of the document in pixels (not the viewport)<br> @param {!boolean} includePadding<br> @returns {!number} height in pixels<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getScrollerElement ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the scroller element from the editor.<br> @returns {!HTMLDivElement} scroller<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getRootElement ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the root DOM node of the editor.<br> @returns {!HTMLDivElement} The editor's root DOM node.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._getLineSpaceElement ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the lineSpace element within the editor (the container around the individual lines of code).<br> FUTURE: This is fairly CodeMirror-specific. Logic that depends on this may break if we switch<br> editors.<br> @returns {!HTMLDivElement} The editor's lineSpace element.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getScrollPos ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the current scroll position of the editor.<br> @returns {{x:number, y:number}} The x,y scroll position in pixels<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setScrollPos (x, y)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the current scroll position of the editor.<br> @param {number} x scrollLeft position in pixels<br> @param {number} y scrollTop position in pixels<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.addInlineWidget (pos, inlineWidget)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds an inline widget below the given line. If any inline widget was already open for that<br> line, it is closed without warning.<br> @param {!{line:number, ch:number}} pos  Position in text to anchor the inline.<br> @param {!InlineWidget} inlineWidget The widget to add.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.removeAllInlineWidgets ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes all inline widgets<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.removeInlineWidget (inlineWidget)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes the given inline widget.<br> @param {number} inlineWidget The widget to remove.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._removeInlineWidgetInternal (inlineId)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Cleans up the given inline widget from our internal list of widgets.<br> @param {number} inlineId  id returned by addInlineWidget().<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getInlineWidgets ()</h2></code></pre><p><strong>return type: </strong><code>!Array.<{id:number, data:Object}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns a list of all inline widgets currently open in this editor. Each entry contains the<br> inline's id, and the data parameter that was passed to addInlineWidget().<br> @return {!Array.<{id:number, data:Object}>}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setInlineWidgetHeight (inlineWidget, height, ensureVisible)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the height of an inline widget in this editor. <br> @param {!InlineWidget} inlineWidget The widget whose height should be set.<br> @param {!number} height The height of the widget.<br> @param {boolean} ensureVisible Whether to scroll the entire widget into view.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._getInlineWidgetLineNumber (inlineWidget)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Get the starting line number for an inline widget.<br> @param {!InlineWidget} inlineWidget <br> @return {number} The line number of the widget or -1 if not found.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype._fireWidgetOffsetTopChanged (lineNum)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Fire "offsetTopChanged" events when inline editor positions change due to<br> height changes of other inline editors.<br> @param {!InlineWidget} inlineWidget <br>     </p>
<hr>
<pre><code><h2>Editor.prototype.focus ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gives focus to the editor control </p>
<hr>
<pre><code><h2>Editor.prototype.hasFocus ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns true if the editor has focus </p>
<hr>
<pre><code><h2>Editor.prototype.refresh ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Re-renders the editor UI<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.refreshAll ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Re-renders the editor, and all children inline editors.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setVisible (show)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Shows or hides the editor within its parent. Does not force its ancestors to<br> become visible.<br> @param {boolean} show true to show the editor, false to hide it<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.isFullyVisible ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns true if the editor is fully visible--i.e., is in the DOM, all ancestors are<br> visible, and has a non-zero width/height.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getModeForSelection ()</h2></code></pre><p><strong>return type: </strong><code>?(Object|String)} Object or Name of syntax-highlighting mode; see {@link EditorUtils#getModeFromFileExtension()</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the syntax-highlighting mode for the current selection or cursor position. (The mode may<br> vary within one file due to embedded languages, e.g. JS embedded in an HTML script block).<br><br> Returns null if the mode at the start of the selection differs from the mode at the end -<br> an *approximation* of whether the mode is consistent across the whole range (a pattern like<br> A-B-A would return A as the mode, not null).<br><br> @return {?(Object|String)} Object or Name of syntax-highlighting mode; see {@link EditorUtils#getModeFromFileExtension()}.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.getModeForDocument ()</h2></code></pre><p><strong>return type: </strong><code>Object|String} Object or Name of syntax-highlighting mode; see {@link EditorUtils#getModeFromFileExtension()</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gets the syntax-highlighting mode for the document.<br><br> @return {Object|String} Object or Name of syntax-highlighting mode; see {@link EditorUtils#getModeFromFileExtension()}.<br>     </p>
<hr>
<pre><code><h2>Editor.prototype.setModeForDocument (mode)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the syntax-highlighting mode for the document.<br><br> @param {string} mode Name of syntax highlighting mode.<br>     </p>
<hr>
<pre><code><h2>Editor.prototypedocument</h2></code></pre><p><strong>return type: </strong><code>!Document}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The Document we're bound to<br> @type {!Document}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype_duringSync</h2></code></pre><p><strong>return type: </strong><code>!boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If true, we're in the middle of syncing to/from the Document. Used to ignore spurious change<br> events caused by us (vs. change events caused by others, which we need to pay attention to).<br> @type {!boolean}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype_codeMirror</h2></code></pre><p><strong>return type: </strong><code>!CodeMirror}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> NOTE: this is actually "semi-private": EditorManager also accesses this field... as well as<br> a few other modules. However, we should try to gradually move most code away from talking to<br> CodeMirror directly.<br> @type {!CodeMirror}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype_inlineWidgets</h2></code></pre><p><strong>return type: </strong><code>!Array.<{id:number, data:Object}>}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {!Array.<{id:number, data:Object}>}<br>     </p>
<hr>
<pre><code><h2>Editor.prototype_visibleRange</h2></code></pre><p><strong>return type: </strong><code>?TextRange}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {?TextRange}<br>     </p>
<hr>
<pre><code><h2>Editor.setUseTabChar(value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets whether to use tab characters (vs. spaces) when inserting new text. Affects all Editors.<br> @param {boolean} value<br>     </p>
<hr>
<pre><code><h2>Editor.getUseTabChar(value)</h2></code></pre><p><strong>return type: </strong><code>boolean} Gets whether all Editors use tab characters (vs. spaces) when inserting new text </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {boolean} Gets whether all Editors use tab characters (vs. spaces) when inserting new text </p>
<hr>
<pre><code><h2>Editor.setTabSize(value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets tab character width. Affects all Editors.<br> @param {number} value<br>     </p>
<hr>
<pre><code><h2>Editor.getTabSize(value)</h2></code></pre><p><strong>return type: </strong><code>number} Get indent unit  </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {number} Get indent unit  </p>
<hr>
<pre><code><h2>Editor.setIndentUnit(value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets indentation width. Affects all Editors.<br> @param {number} value<br>     </p>
<hr>
<pre><code><h2>Editor.getIndentUnit(value)</h2></code></pre><p><strong>return type: </strong><code>number} Get indentation width </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {number} Get indentation width </p>
<hr>
</article>
<hr>
<hr>
<a name="EditorCommandHandlers"></a><article>
<p class="path">editor/EditorCommandHandlers.js</p>
<h1>EditorCommandHandlers</h1>
<pre><code><h2>module</h2></code></pre><p> Text-editing commands that apply to whichever Editor is currently focused<br> </p>
<hr>
<pre><code><h2>DIRECTION_UP</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> List of constants<br>     </p>
<hr>
<pre><code><h2>_containsUncommented (editor, startLine, endLine)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Searchs for an uncommented line between startLine and endLine<br> @param {!Editor} editor<br> @param {!number} startLine - valid line inside the document<br> @param {!number} endLine - valid line inside the document<br> @return {boolean} true if there is at least one uncommented line<br>     </p>
<hr>
<pre><code><h2>lineCommentSlashSlash (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add or remove line-comment tokens to all the lines in the selected range, preserving selection<br> and cursor position. Applies to currently focused Editor.<br> <br> If all non-whitespace lines are already commented out, then we uncomment; otherwise we comment<br> out. Commenting out adds "//" to at column 0 of every line. Uncommenting removes the first "//"<br> on each line (if any - empty lines might not have one).<br>     </p>
<hr>
<pre><code><h2>lineComment (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Invokes a language-specific line-comment/uncomment handler<br> @param {?Editor} editor If unspecified, applies to the currently focused editor<br>     </p>
<hr>
<pre><code><h2>_findCommentStart (ctx, prefixExp)</h2></code></pre><p><strong>return type: </strong><code>?{line: number, ch: number}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Moves the token context to the token that starts the block-comment. Ctx starts in a block-comment.<br> Returns the position of the prefix or null if gets to the start of the document and didn't found it.<br> @param {!{editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}}} ctx - token context<br> @param {!RegExp} prefixExp - a valid regular expression<br> @return {?{line: number, ch: number}}<br>     </p>
<hr>
<pre><code><h2>_findCommentEnd (ctx, suffixExp, suffixLen)</h2></code></pre><p><strong>return type: </strong><code>?{line: number, ch: number}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Moves the token context to the token that ends the block-comment. Ctx starts in a block-comment.<br> Returns the position of the sufix or null if gets to the end of the document and didn't found it.<br> @param {!{editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}}} ctx - token context<br> @param {!RegExp} suffixExp - a valid regular expression<br> @param {!number} suffixLen - length of the suffix<br> @return {?{line: number, ch: number}}<br>     </p>
<hr>
<pre><code><h2>_findNextBlockComment (ctx, end, prefixExp)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Moves the token context to the next block-comment if there is one before end.<br> @param {!{editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}}} ctx - token context<br> @param {!{line: number, ch: number}} end - where to stop searching<br> @param {!RegExp} prefixExp - a valid regular expression<br> @return {boolean} - true if it found a block-comment<br>     </p>
<hr>
<pre><code><h2>blockCommentPrefixSuffix (editor, prefix, suffix, slashComment)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add or remove block-comment tokens to the selection, preserving selection<br> and cursor position. Applies to the currently focused Editor.<br> <br> If the selection is inside a block-comment or one block-comment is inside or partially<br> inside the selection we uncomment; otherwise we comment out.<br> Commenting out adds the prefix before the selection and the suffix after.<br> Uncommenting removes them.<br> <br> If slashComment is true and the start or end of the selection is inside a line-comment it <br> will try to do a line uncomment if is not actually inside a bigger block comment and all<br> the lines in the selection are line-commented.<br><br> @param {!Editor} editor<br> @param {!String} prefix<br> @param {!String} suffix<br> @param {boolean=} slashComment - true if the mode also supports "//" comments<br>     </p>
<hr>
<pre><code><h2>blockComment (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Invokes a language-specific block-comment/uncomment handler<br> @param {?Editor} editor If unspecified, applies to the currently focused editor<br>     </p>
<hr>
<pre><code><h2>duplicateText (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Duplicates the selected text, or current line if no selection. The cursor/selection is left<br> on the second copy.<br>     </p>
<hr>
<pre><code><h2>deleteCurrentLines (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Deletes the current line if there is no selection or the lines for the selection<br> (removing the end of line too)<br>     </p>
<hr>
<pre><code><h2>moveLine (editor, direction)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the selected text, or current line if no selection. The cursor/selection <br> moves with the line/lines.<br> @param {Editor} editor - target editor<br> @param {Number} direction - direction of the move (-1,+1) => (Up,Down)<br>     </p>
<hr>
<pre><code><h2>moveLineUp (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the selected text, or current line if no selection, one line up. The cursor/selection <br> moves with the line/lines.<br>     </p>
<hr>
<pre><code><h2>moveLineDown (editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the selected text, or current line if no selection, one line down. The cursor/selection <br> moves with the line/lines.<br>     </p>
<hr>
<pre><code><h2>indentText ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Indent a line of text if no selection. Otherwise, indent all lines in selection.<br>     </p>
<hr>
<pre><code><h2>unidentText ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unindent a line of text if no selection. Otherwise, unindent all lines in selection.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="EditorManager"></a><article>
<p class="path">editor/EditorManager.js</p>
<h1>EditorManager</h1>
<pre><code><h2>module</h2></code></pre><p> EditorManager owns the UI for the editor area. This essentially mirrors the 'current document'<br> property maintained by DocumentManager's model.<br><br> Note that there is a little bit of unusual overlap between EditorManager and DocumentManager:<br> because the Document state is actually stored in the CodeMirror editor UI, DocumentManager is<br> not a pure headless model. Each Document encapsulates an editor instance, and thus EditorManager<br> must have some knowledge about Document's internal state (we access its _editor property).<br><br> This module dispatches the following events:<br>    - activeEditorChange --  Fires after the active editor (full or inline) changes and size/visibility<br>                             are complete. Doesn't fire when editor temporarily loses focus to a non-editor<br>                             control (e.g. search toolbar or modal dialog, or window deactivation). Does<br>                             fire when focus moves between inline editor and its full-size container.<br>                             This event tracks getActiveEditor() changes, while DocumentManager's<br>                             currentDocumentChange tracks getCurrentFullEditor() changes.<br>                             The 2nd arg to the listener is which Editor became active; the 3rd arg is<br>                             which Editor is deactivated as a result. Either one may be null.<br>                             NOTE (#1257): getFocusedEditor() sometimes lags behind this event. Listeners<br>                             should use the arguments or call getActiveEditor() to reliably see which Editor <br>                             just gained focus.<br> </p>
<hr>
<pre><code><h2>_editorHolder</h2></code></pre><p><strong>return type: </strong><code>jQueryObject} DOM node that contains all editors (visible and hidden alike) </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {jQueryObject} DOM node that contains all editors (visible and hidden alike) </p>
<hr>
<pre><code><h2>_currentEditor</h2></code></pre><p><strong>return type: </strong><code>?Editor}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Currently visible full-size Editor, or null if no editors open<br> @type {?Editor}<br>     </p>
<hr>
<pre><code><h2>_currentEditorsDocument</h2></code></pre><p><strong>return type: </strong><code>?Document} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {?Document} </p>
<hr>
<pre><code><h2>_lastFocusedEditor</h2></code></pre><p><strong>return type: </strong><code>?Editor}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Currently focused Editor (full-size, inline, or otherwise)<br> @type {?Editor}<br>     </p>
<hr>
<pre><code><h2>_inlineEditProviders</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registered inline-editor widget providers. See {@link #registerInlineEditProvider()}.<br> @type {Array.}<br>     </p>
<hr>
<pre><code><h2>mergeExtraKeys (editor, to, from)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds keyboard command handlers to an Editor instance.<br> @param {Editor} editor <br> @param {!Object.} to destination key mapping<br> @param {!Object.} from source key mapping<br>     </p>
<hr>
<pre><code><h2>_createEditorForDocument (doc, makeMasterEditor, container, range, additionalKeys)</h2></code></pre><p><strong>return type: </strong><code>Editor</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a new Editor bound to the given Document. The editor's mode is inferred based on the<br> file extension. The editor is appended to the given container as a visible child.<br> @param {!Document} doc  Document for the Editor's content<br> @param {!boolean} makeMasterEditor  If true, the Editor will set itself as the private "master"<br>          Editor for the Document. If false, the Editor will attach to the Document as a "slave."<br> @param {!jQueryObject} container  Container to add the editor to.<br> @param {{startLine: number, endLine: number}=} range If specified, range of lines within the document<br>          to display in this editor. Inclusive.<br> @return {Editor} the newly created editor.<br>     </p>
<hr>
<pre><code><h2>_openInlineWidget (editor)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Bound to Ctrl+E on outermost editors.<br> @param {!Editor} editor the candidate host editor<br> @return {$.Promise} a promise that will be resolved when an InlineWidget <br>      is created or rejected when no inline editors are available.<br>     </p>
<hr>
<pre><code><h2>closeInlineWidget (hostEditor, inlineWidget, moveFocus)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes the given widget UI from the given hostEditor (agnostic of what the widget's content<br> is). The widget's onClosed() callback will be run as a result.<br> @param {!Editor} hostEditor The editor containing the widget.<br> @param {!InlineWidget} inlineWidget The inline widget to close.<br> @param {!boolean} moveFocus  If true, focuses hostEditor and ensures the cursor position lies<br>      near the inline's location.<br>     </p>
<hr>
<pre><code><h2>registerInlineEditProvider (provider)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers a new inline provider. When _openInlineWidget() is called each registered inline<br> widget is called and asked if it wants to provide an inline widget given the current cursor<br> location and document.<br> @param {function} provider <br>      Parameters: <br>      {!Editor} editor, {!{line:Number, ch:Number}} pos<br>      <br>      Returns:<br>      {$.Promise} a promise that will be resolved with an inlineWidget<br>      or null to indicate the provider doesn't create an editor in this case<br>     </p>
<hr>
<pre><code><h2>getInlineEditors (hostEditor)</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Given a host editor, return a list of all Editors in all its open inline widgets. (Ignoring<br> any other inline widgets that might be open but don't contain Editors).<br> @param {!Editor} hostEditor<br> @return {Array.}<br><br>     </p>
<hr>
<pre><code><h2>_createFullEditorForDocument (document)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Creates a new "full-size" (not inline) Editor for the given Document, and sets it as the<br> Document's master backing editor. The editor is not yet visible; to show it, use<br> DocumentManager.setCurrentDocument().<br> Semi-private: should only be called within this module or by Document.<br> @param {!Document} document  Document whose main/full Editor to create<br>     </p>
<hr>
<pre><code><h2>getCurrentFullEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the visible full-size Editor corresponding to DocumentManager.getCurrentDocument() </p>
<hr>
<pre><code><h2>createInlineEditorForDocument (doc, range, inlineContent, additionalKeys)</h2></code></pre><p><strong>return type: </strong><code>{content:DOMElement, editor:Editor}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a new inline Editor instance for the given Document. The editor's mode is inferred<br> based on the file extension. The editor is not yet visible or attached to a host editor.<br> @param {!Document} doc  Document for the Editor's content<br> @param {?{startLine:Number, endLine:Number}} range  If specified, all lines outside the given<br>      range are hidden from the editor. Range is inclusive. Line numbers start at 0.<br> @param {HTMLDivContainer} inlineContent<br> @param  {function(inlineWidget)} closeThisInline<br><br> @return {{content:DOMElement, editor:Editor}}<br>     </p>
<hr>
<pre><code><h2>_destroyEditorIfUnneeded (document)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Disposes the given Document's full-size editor if the doc is no longer "open" from the user's<br> standpoint - not in the working set and not currentDocument).<br> <br> Destroying the full-size editor releases ONE ref to the Document; if inline editors or other<br> UI elements are still referencing the Document it will still be 'open' (kept alive) from<br> DocumentManager's standpoint. However, destroying the full-size editor does remove the backing<br> "master" editor from the Document, rendering it immutable until either inline-editor edits or<br> currentDocument change triggers _createFullEditorForDocument() full-size editor again.<br><br> In certain edge cases, this is called directly by DocumentManager; see _gcDocuments() for details.<br><br> @param {!Document} document Document whose "master" editor we may destroy<br>     </p>
<hr>
<pre><code><h2>focusEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns focus to the last visible editor that had focus. If no editor visible, does nothing.<br> This function should be called to restore editor focus after it has been temporarily<br> removed. For example, after a dialog with editable text is closed.<br>     </p>
<hr>
<pre><code><h2>_calcEditorHeight ()</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Calculates the available height for the full-size Editor (or the no-editor placeholder),<br> accounting for the current size of all visible panels, toolbar, & status bar.<br> @return {number}<br>     </p>
<hr>
<pre><code><h2>resizeEditor (skipRefresh)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Resize the editor. This must be called any time the contents of the editor area are swapped<br> or any time the editor area might change height. EditorManager takes care of calling this when<br> the Editor is swapped, and on window resize. But anyone who changes size/visiblity of editor<br> area siblings (toolbar, status bar, bottom panels) *must* manually call resizeEditor().<br><br> @param {boolean=} skipRefresh For internal use, to avoid redundant refresh()es during window resize<br>     </p>
<hr>
<pre><code><h2>_updateEditorDuringResize ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> NJ's editor-resizing fix. Whenever the window resizes, we immediately adjust the editor's<br> height.<br>     </p>
<hr>
<pre><code><h2>_notifyActiveEditorChanged (current)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @param {?Editor} current<br>     </p>
<hr>
<pre><code><h2>_doShow (document)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_showEditor (document)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Make the given document's editor visible in the UI, hiding whatever was<br> visible before. Creates a new editor if none is assigned.<br> @param {!Document} document<br>     </p>
<hr>
<pre><code><h2>_showNoEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hide the currently visible editor and show a placeholder UI in its place </p>
<hr>
<pre><code><h2>_onCurrentDocumentChange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handles changes to DocumentManager.getCurrentDocument() </p>
<hr>
<pre><code><h2>_onWorkingSetRemove (event, removedFile)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handles removals from DocumentManager's working set list </p>
<hr>
<pre><code><h2>setEditorHolder (holder)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Designates the DOM node that will contain the currently active editor instance. EditorManager<br> will own the content of this DOM node.<br> @param {!jQueryObject} holder<br>     </p>
<hr>
<pre><code><h2>getFocusedInlineWidget ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the currently focused inline widget.<br> @returns {?{widget:!InlineTextEditor, editor:!Editor}}<br>     </p>
<hr>
<pre><code><h2>getFocusedEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the currently focused editor instance (full-sized OR inline editor).<br> This function is similar to getActiveEditor(), with one main difference: this<br> function will only return editors that currently have focus, whereas <br> getActiveEditor() will return the last visible editor that was given focus (but<br> may not currently have focus because, for example, a dialog with editable text<br> is open).<br> @returns {Editor}<br>     </p>
<hr>
<pre><code><h2>getActiveEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the current active editor (full-sized OR inline editor). This editor may not <br> have focus at the moment, but it is visible and was the last editor that was given <br> focus. Returns null if no editors are active.<br> @see getFocusedEditor()<br> @returns {Editor}<br>     </p>
<hr>
<pre><code><h2>_toggleQuickEdit ()</h2></code></pre><p><strong>return type: </strong><code>!Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Toggle Quick Edit command handler<br> @return {!Promise} A promise resolved with true if an inline editor<br>   is opened or false when closed. The promise is rejected if there<br>   is no current editor or an inline editor is not created.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="EditorUtils"></a><article>
<p class="path">editor/EditorUtils.js</p>
<h1>EditorUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Set of utilites for working with the code editor<br> </p>
<hr>
<pre><code><h2>getModeFromFileExtension (fileUrl)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Given a file URL, determines the mode to use based<br> off the file's extension.<br> @param {string} fileUrl  A cannonical file URL to extract the extension from<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="InlineTextEditor"></a><article>
<p class="path">editor/InlineTextEditor.js</p>
<pre><code><h2>_editorHolderWidth ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Returns editor holder width (not CodeMirror's width).<br> @private<br>     </p>
<hr>
<pre><code><h2>_showDirtyIndicator ($indicatorDiv, isDirty)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Shows or hides the dirty indicator<br> @private<br>     </p>
<hr>
<pre><code><h2>_dirtyFlagChangeHandler (event, doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Respond to dirty flag change event. If the dirty flag is associated with an inline editor,<br> show (or hide) the dirty indicator.<br> @private<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br> @extends {InlineWidget}<br>     </p>
<hr>
<pre><code><h2>_syncGutterWidths (hostEditor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Given a host editor and its inline editors, find the widest gutter and make all the others match<br> @param {!Editor} hostEditor Host editor containing all the inline editors to sync<br> @private<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.onClosed ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called any time inline was closed, whether manually (via close()) or automatically<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.sizeInlineWidgetToContents (force)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Update the inline editor's height when the number of lines change<br> @param {boolean} force the editor to resize<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.onAdded ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Some tasks have to wait until we've been parented into the outer editor<br> @param {string} the inline ID that is generated by CodeMirror after the widget that holds the inline<br>  editor is constructed and added to the DOM<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.createInlineEditorFromText (doc, startLine, endLine, container, additionalKeys)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {Document} doc<br> @param {number} startLine of text to show in inline editor<br> @param {number} endLine of text to show in inline editor<br> @param {HTMLDivElement} container container to hold the inline editor<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.load (hostEditor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {Editor} hostEditor<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype.onParentShown ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called when the editor containing the inline is made visible.<br>     </p>
<hr>
<pre><code><h2>InlineTextEditor.prototype._onLostContent ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If Document's file is deleted, or Editor loses sync with Document, just close<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="InlineWidget"></a><article>
<p class="path">editor/InlineWidget.js</p>
<pre><code><h2>InlineWidget Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br><br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototypeheight</h2></code></pre><p><strong>return type: </strong><code>number}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initial height of inline widget in pixels. Can be changed later via hostEditor.setInlineWidgetHeight()<br> @type {number}<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.close ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes this inline widget and all its contained Editors<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.onClosed ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called any time inline is closed, whether manually or automatically<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.onAdded ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called once content is parented in the host editor's DOM. Useful for performing tasks like setting<br> focus or measuring content, which require htmlContent to be in the DOM tree.<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.load (hostEditor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {Editor} hostEditor<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.onParentShown ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called when the editor containing the inline is made visible.<br>     </p>
<hr>
<pre><code><h2>InlineWidget.prototype.refresh ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called when the parent editor does a full refresh--for example, when the font size changes.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="MultiRangeInlineEditor"></a><article>
<p class="path">editor/MultiRangeInlineEditor.js</p>
<h1>MultiRangeInlineEditor</h1>
<pre><code><h2>module</h2></code></pre><p> An inline editor for displaying and editing multiple text ranges. Each range corresponds to a <br> contiguous set of lines in a file. <br> <br> In the current implementation, only one range is visible at a time. A list on the right side<br> of the editor allows the user to select which range is visible. <br><br> This module does not dispatch any events.<br> </p>
<hr>
<pre><code><h2>_parseStyleSize ($target, styleName)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove trailing "px" from a style size value.<br> @param {!JQuery} $target Element in DOM<br> @param {!string} styleName Style name to query<br> @return {number} Style value converted from string to number, removing "px" units<br>     </p>
<hr>
<pre><code><h2>SearchResultItem Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br> Stores one search result: its source file, line range, etc. plus the DOM node representing it<br> in the results list.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @constructor<br> @param {Array.<{name:String,document:Document,lineStart:number,lineEnd:number}>} ranges The text ranges to display.<br> @extends {InlineTextEditor}<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype_ranges</h2></code></pre><p><strong>return type: </strong><code>Array.} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Array.} </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype.load (hostEditor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @override<br> @param {!Editor} hostEditor  Outer Editor instance that inline editor will sit within.<br> <br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype.setSelectedIndex (index)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Specify the range that is shown in the editor.<br><br> @param {!number} index The index of the range to select.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype.onClosed ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Called any time inline is closed, whether manually (via closeThisInline()) or automatically<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._relatedContainerInsertedHandler ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Set _relatedContainerInserted flag once the $relatedContainer is inserted in the DOM.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._onClick (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Prevent clicks in the dead areas of the inlineWidget from changing the focus and insertion point in the editor.<br> This is done by detecting clicks in the inlineWidget that are not inside the editor or the range list and<br> restoring focus and the insertion point.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._updateRelatedContainer ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Set the size, position, and clip rect of the range list.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._ensureCursorVisible ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Based on the position of the cursor in the inline editor, determine whether we need to change the<br> scroll position of the host editor to ensure that the cursor is visible.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._handleChange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Handle a change event from the editor. Update the related container and make sure the<br> cursor is visible.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._onLostContent (event, cause)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Overwrite InlineTextEditor's _onLostContent to do nothing if the document's file is deleted<br> (deletes are handled via TextRange's lostSync).<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._getRanges ()</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {Array.}<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._getSelectedRange ()</h2></code></pre><p><strong>return type: </strong><code>!SearchResultItem</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {!SearchResultItem}<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._selectNextRange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Display the next range in the range list<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype._selectPreviousRange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p>  Display the previous range in the range list<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype.sizeInlineWidgetToContents (force, ensureVisibility)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sizes the inline widget height to be the maximum between the range list height and the editor height<br> @override <br> @param {boolean} force the editor to resize<br> @param {boolean} ensureVisibility makes the parent editor scroll to display the inline editor. Default true.<br>     </p>
<hr>
<pre><code><h2>MultiRangeInlineEditor.prototype.refresh ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Refreshes the height of the inline editor and all child editors.<br> @override<br>     </p>
<hr>
<pre><code><h2>_getFocusedMultiRangeInlineEditor ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the currently focused MultiRangeInlineEditor.<br> @returns {MultiRangeInlineEditor}<br>     </p>
<hr>
<pre><code><h2>_previousRange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Previous Range command handler<br>     </p>
<hr>
<pre><code><h2>_nextRange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Next Range command handler<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="FileUtils"></a><article>
<p class="path">file/FileUtils.js</p>
<h1>FileUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Set of utilites for working with files and text content.<br> </p>
<hr>
<pre><code><h2>readAsText (fileEntry)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Asynchronously reads a file as UTF-8 encoded text.<br> @return {$.Promise} a jQuery promise that will be resolved with the <br>  file's text content plus its timestamp, or rejected with a FileError if<br>  the file can not be read.<br>     </p>
<hr>
<pre><code><h2>writeText (fileEntry, text)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Asynchronously writes a file as UTF-8 encoded text.<br> @param {!FileEntry} fileEntry<br> @param {!string} text<br> @return {$.Promise} a jQuery promise that will be resolved when<br> file writing completes, or rejected with a FileError.<br>     </p>
<hr>
<pre><code><h2>LINE_ENDINGS_CRLF</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @const </p>
<hr>
<pre><code><h2>LINE_ENDINGS_LF</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @const </p>
<hr>
<pre><code><h2>getPlatformLineEndings ()</h2></code></pre><p><strong>return type: </strong><code>LINE_ENDINGS_CRLF|LINE_ENDINGS_LF</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the standard line endings for the current platform<br> @return {LINE_ENDINGS_CRLF|LINE_ENDINGS_LF}<br>     </p>
<hr>
<pre><code><h2>sniffLineEndings (text)</h2></code></pre><p><strong>return type: </strong><code>null|LINE_ENDINGS_CRLF|LINE_ENDINGS_LF</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Scans the first 1000 chars of the text to determine how it encodes line endings. Returns<br> null if usage is mixed or if no line endings found.<br> @param {!string} text<br> @return {null|LINE_ENDINGS_CRLF|LINE_ENDINGS_LF}<br>     </p>
<hr>
<pre><code><h2>translateLineEndings (text, lineEndings)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Translates any line ending types in the given text to the be the single form specified<br> @param {!string} text<br> @param {null|LINE_ENDINGS_CRLF|LINE_ENDINGS_LF} lineEndings<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>convertToNativePath (path)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Convert a URI path to a native path.<br> On both platforms, this unescapes the URI<br> On windows, URI paths start with a "/", but have a drive letter ("C:"). In this<br> case, remove the initial "/".<br> @param {!string} path<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>canonicalizeFolderPath (path)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Canonicalizes a folder path to not include a trailing slash.<br> @param {string} path<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>getNativeBracketsDirectoryPath ()</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns a native absolute path to the 'brackets' source directory.<br> Note that this only works when run in brackets/src/index.html, so it does<br> not work for unit tests (which is run from brackets/test/SpecRunner.html)<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>getNativeModuleDirectoryPath (module)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Given the module object passed to JS module define function,<br> convert the path to a native absolute path.<br> Returns a native absolute path to the module folder.<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>updateFileEntryPath (entry, oldName, newName)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Update a file entry path after a file/folder name change.<br> @param {FileEntry} entry The FileEntry or DirectoryEntry to update<br> @param {string} oldName The full path of the old name<br> @param {string} newName The full path of the new name<br> @return {boolean} Returns true if the file entry was updated<br>     </p>
<hr>
<pre><code><h2>_staticHtmlFileExts</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @const - hard-coded for now, but may want to make these preferences </p>
<hr>
<pre><code><h2>isStaticHtmlFileExt (fileExt)</h2></code></pre><p><strong>return type: </strong><code>Boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine if file extension is a static html file extension.<br> @param {String} file name with extension or just a file extension<br> @return {Boolean} Returns true if fileExt is in the list<br>     </p>
<hr>
<pre><code><h2>isServerHtmlFileExt (fileExt)</h2></code></pre><p><strong>return type: </strong><code>Boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine if file extension is a server html file extension.<br> @param {String} file name with extension or just a file extension<br> @return {Boolean} Returns true if fileExt is in the list<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="NativeFileSystem"></a><article>
<p class="path">file/NativeFileSystem.js</p>
<pre><code><h2>showOpenDialog Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> showOpenDialog<br><br> @param {bool} allowMultipleSelection<br> @param {bool} chooseDirectories<br> @param {string} title<br> @param {string} initialPath<br> @param {Array.} fileTypes<br> @param {!function(Array.)} successCallback<br> @param {!function(number)} errorCallback (TODO #2057: should this pass a FileError?)<br> @constructor<br>         </p>
<hr>
<pre><code><h2>requestNativeFileSystem (path, successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> requestNativeFileSystem<br><br> @param {!string} path<br> @param {!function(DirectoryEntry)} successCallback<br> @param {!function(number)} errorCallback (TODO #2057: should pass a FileError)<br>         </p>
<hr>
<pre><code><h2>_nativeToFileError (nativeErr)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Converts a brackets.fs.ERR_* error code to a FileError.* error code<br> @param {number} nativeErr<br> @return {number}<br>         </p>
<hr>
<pre><code><h2>NativeFileSystem.Encodings</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: Encodings<br><br> Static class that contains constants for file<br> encoding types.<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem._FSEncodings</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: _FSEncodings<br><br> Internal static class that contains constants for file<br> encoding types to be used by internal file system<br> implimentation.<br>    </p>
<hr>
<pre><code><h2>NativeFileSystem.Encodings._IANAToFS(encoding)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Converts an IANA encoding name to internal encoding name.<br> http://www.iana.org/assignments/character-sets<br><br> @param {String} encoding The IANA encoding string.<br>     </p>
<hr>
<pre><code><h2>Entry Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: Entry<br><br> @param {string} name<br> @param {string} isFile<br> @constructor<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.Entry.prototype.getMetadata(successCallBack, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {!function(Metadata)} successCallBack<br> @param {!function(number)} errorCallback (TODO #2057: should pass a FileError)<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.Metadata(modificationTime)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Stores information about a FileEntry<br>    </p>
<hr>
<pre><code><h2>FileEntry Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: FileEntry<br> This interface represents a file on a file system.<br><br> @param {string} name<br> @constructor<br> @extends {Entry}<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileEntry.prototype.createWriter(successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a new FileWriter associated with the file that this FileEntry represents.<br><br> @param {!function(FileWriter)} successCallback<br> @param {!function(number)} errorCallback (TODO #2057: should pass a FileError)<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileEntry.prototype.file(successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Obtains the File objecte for a FileEntry object<br><br> @param {!function(File)} successCallback<br> @param {!function(FileError)} errorCallback<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileException(code)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> This interface extends the FileException interface described in to add<br> several new error codes. Any errors that need to be reported synchronously,<br> including all that occur during use of the synchronous filesystem methods,<br> are reported using the FileException exception.<br><br> @param {number} code The code attribute, on getting, must return one of the<br> constants of the FileException exception, which must be the most appropriate<br> code from the table below.<br>     </p>
<hr>
<pre><code><h2>FileSaver Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> This interface provides methods to monitor the asynchronous writing of blobs<br> to disk using progress events and event handler attributes.<br><br> This interface is specified to be used within the context of the global<br> object (Window) and within Web Workers.<br><br> @param {Blob} data<br> @constructor<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileSaver.prototype.readyState()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p>     </p>
<hr>
<pre><code><h2>DirectoryEntry Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> This interface represents a directory on a file system.<br><br> @constructor<br> @param {string} name<br> @extends {Entry}<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.DirectoryEntry.prototype.getDirectory(path, options, successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {!string} path<br> @param {!{create:?boolean, exclusive:?boolean}} options<br> @param {!function(DirectoryEntry)} successCallback<br> @param {!function(FileError|number)} errorCallback (TODO #2057: should consistently pass a FileError)<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.DirectoryEntry.prototype.getFile(path, options, successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates or looks up a file.<br><br> @param {string} path Either an absolute path or a relative path from this<br>        DirectoryEntry to the file to be looked up or created. It is an error<br>        to attempt to create a file whose immediate parent does not yet<br>        exist.<br> @param {!{create:?boolean, exclusive:?boolean}} options<br> @param {!function(FileEntry)} successCallback<br> @param {!function(FileError|number)} errorCallback  (TODO #2057: should consistently pass a FileError)<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.DirectoryReader()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: DirectoryReader<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.DirectoryReader.prototype.readEntries(successCallback, errorCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> readEntries<br><br> @param {!function(Array.)} successCallback<br> @param {!function(FileError|number)} errorCallback (TODO #2057: should consistently pass a FileError)<br> @returns {Array.}<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileReader()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: FileReader<br><br> @extends {EventTarget}<br>     </p>
<hr>
<pre><code><h2>NativeFileSystem.FileReader.prototype.readAsText(blob, encoding)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> readAsText<br><br> @param {Blob} blob<br> @param {string} encoding (IANA Encoding Name)<br>     </p>
<hr>
<pre><code><h2>Blob Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: Blob<br><br> @constructor<br> param {Entry} entry<br>     </p>
<hr>
<pre><code><h2>File Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: File<br><br> @constructor<br> param {Entry} entry<br> @extends {Blob}<br>     </p>
<hr>
<pre><code><h2>FileError Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class: FileError<br><br> Implementation of HTML file API error code return class. Note that we don't<br> actually define the error codes here--we rely on the browser's built-in FileError<br> class's constants. In other words, external clients of this API should always<br> use FileError., not NativeFileSystem.FileError..<br><br> @constructor<br> @param {number} code The error code to return with this FileError. Must be<br> one of the codes defined in the FileError class.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="CSSUtils"></a><article>
<p class="path">language/CSSUtils.js</p>
<h1>CSSUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Set of utilities for simple parsing of CSS text.<br> </p>
<hr>
<pre><code><h2>extractAllSelectors (text)</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Extracts all CSS selectors from the given text<br> Returns an array of selectors. Each selector is an object with the following properties:<br>         selector:                 the text of the selector (note: comma separated selector groups like <br>                                   "h1, h2" are broken into separate selectors)<br>         ruleStartLine:            line in the text where the rule (including preceding comment) appears<br>         ruleStartChar:            column in the line where the rule (including preceding comment) starts<br>         selectorStartLine:        line in the text where the selector appears<br>         selectorStartChar:        column in the line where the selector starts<br>         selectorEndLine:          line where the selector ends<br>         selectorEndChar:          column where the selector ends<br>         selectorGroupStartLine:   line where the comma-separated selector group (e.g. .foo, .bar, .baz)<br>                                   starts that this selector (e.g. .baz) is part of. Particularly relevant for<br>                                   groups that are on multiple lines.<br>         selectorGroupStartChar:   column in line where the selector group starts.<br>         declListStartLine:        line where the declaration list for the rule starts<br>         declListStartChar:        column in line where the declaration list for the rule starts<br>         declListEndLine:          line where the declaration list for the rule ends<br>         declListEndChar:          column in the line where the declaration list for the rule ends<br> @param text {!String} CSS text to extract from<br> @return {Array.} Array with objects specifying selectors.<br>     </p>
<hr>
<pre><code><h2>_findAllMatchingSelectorsInText (text, selector)</h2></code></pre><p><strong>return type: </strong><code>Array.<{selectorGroupStartLine:number, declListEndLine:number, selector:string}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Finds all instances of the specified selector in "text".<br> Returns an Array of Objects with start and end properties.<br><br> For Sprint 4, we only support simple selectors. This function will need to change<br> dramatically to support full selectors.<br><br> FUTURE: (JRB) It would be nice to eventually use the browser/jquery to do the selector evaluation.<br> One way to do this would be to take the user's HTML, add a special attribute to every tag with a UID,<br> and then construct a DOM (using the commented out code above). Then, give this DOM and the selector to <br> jquery and ask what matches. If the node that the user's cursor is in comes back from jquery, then <br> we know the selector applies.<br><br> @param text {!String} CSS text to search<br> @param selector {!String} selector to search for<br> @return {Array.<{selectorGroupStartLine:number, declListEndLine:number, selector:string}>}<br>      Array of objects containing the start and end line numbers (0-based, inclusive range) for each<br>      matched selector.<br>     </p>
<hr>
<pre><code><h2>_addSelectorsToResults (resultSelectors, selectorsToAdd, sourceDoc, lineOffset)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Converts the results of _findAllMatchingSelectorsInText() into a simpler bag of data and<br> appends those new objects to the given 'resultSelectors' Array.<br> @param {Array.<{document:Document, lineStart:number, lineEnd:number}>} resultSelectors<br> @param {Array.<{selectorGroupStartLine:number, declListEndLine:number, selector:string}>} selectorsToAdd<br> @param {!Document} sourceDoc<br> @param {!number} lineOffset Amount to offset all line number info by. Used if the first line<br>          of the parsed CSS text is not the first line of the sourceDoc.<br>     </p>
<hr>
<pre><code><h2>_findMatchingRulesInCSSFiles (selector, resultSelectors)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Finds matching selectors in CSS files; adds them to 'resultSelectors' </p>
<hr>
<pre><code><h2>_findMatchingRulesInStyleBlocks (htmlDocument, selector, resultSelectors)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Finds matching selectors in the  block of a single HTML file; adds them to 'resultSelectors' </p>
<hr>
<pre><code><h2>findMatchingRules (selector, htmlDocument)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return all rules matching the specified selector.<br> For Sprint 4, we only look at the rightmost simple selector. For example, searching for ".foo" will <br> match these rules:<br>  .foo {}<br>  div .foo {}<br>  div.foo {}<br>  div .foo[bar="42"] {}<br>  div .foo:hovered {}<br>  div .foo::first-child<br> but will *not* match these rules:<br>  .foobar {}<br>  .foo .bar {}<br>  div .foo .bar {}<br>  .foo.bar {}<br><br> @param {!String} selector The selector to match. This can be a tag selector, class selector or id selector<br> @param {?Document} htmlDocument An HTML file for context (so we can search  blocks)<br> @return {$.Promise} that will be resolved with an Array of objects containing the<br>      source document, start line, and end line (0-based, inclusive range) for each matching declaration list.<br>      Does not addRef() the documents returned in the array.<br>     </p>
<hr>
<pre><code><h2>findSelectorAtDocumentPos (editor, pos)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the selector(s) of the rule at the specified document pos, or "" if the position is <br> is not within a style rule.<br><br> @param {!Editor} editor Editor to search<br> @param {!{line: number, ch: number}} pos Position to search<br> @return {string} Selector(s) for the rule at the specified position, or "" if the position<br>          is not within a style rule. If the rule has multiple selectors, a comma-separated<br>          selector string is returned.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="HTMLUtils"></a><article>
<p class="path">language/HTMLUtils.js</p>
<pre><code><h2>_extractAttrVal (ctx)</h2></code></pre><p><strong>return type: </strong><code> val:{string}, offset:{number}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Sometimes as attr values are getting typed, if the quotes aren't balanced yet<br> some extra 'non attribute value' text gets included in the token. This attempts<br> to assure the attribute value we grab is always good<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} context<br> @return { val:{string}, offset:{number}}<br>     </p>
<hr>
<pre><code><h2>_extractTagName (ctx)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Gets the tagname from where ever you are in the currect state<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} context<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>createTagInfo (tokenType, offset, tagName, attrName, attrValue, valueAssigned, quoteChar, hasEndQuote)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a tagInfo object and assures all the values are entered or are empty strings<br> @param {string=} tokenType what is getting edited and should be hinted<br> @param {number=} offset where the cursor is for the part getting hinted<br> @param {string=} tagName The name of the tag<br> @param {string=} attrName The name of the attribute<br> @param {string=} attrValue The value of the attribute<br> @return {{tagName:string,<br>           attr:{name:string, value:string, valueAssigned:boolean, quoteChar:string, hasEndQuote:boolean},<br>           position:{tokenType:string, offset:number}<br>         }}<br>         A tagInfo object with some context about the current tag hint.<br>     </p>
<hr>
<pre><code><h2>_getTagInfoStartingFromAttrValue (ctx)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Gets the taginfo starting from the attribute value and moving backwards<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} context<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>_getTagInfoStartingFromAttrName (ctx, isPriorAttr)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Gets the taginfo starting from the attribute name and moving forwards<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} context<br> @param {boolean} isPriorAttr indicates whether we're getting info for a prior attribute<br> @return {string}<br>     </p>
<hr>
<pre><code><h2>getTagInfo (editor, constPos)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Figure out if we're in a tag, and if we are return info about it<br> An example token stream for this tag is  : <br>      className:tag       string:""<br> @param {Editor} editor An instance of a Brackets editor<br> @param {{ch: number, line: number}} constPos  A CM pos (likely from editor.getCursor())<br> @return {{tagName:string,<br>           attr:{name:string, value:string, valueAssigned:boolean, quoteChar:string, hasEndQuote:boolean},<br>           position:{tokenType:string, offset:number}<br>         }}<br>         A tagInfo object with some context about the current tag hint.<br>     </p>
<hr>
<pre><code><h2>findStyleBlocks (editor)</h2></code></pre><p><strong>return type: </strong><code>Array.<{start:{line:number, ch:number}, end:{line:number, ch:number}, text:string}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns an Array of info about all  blocks in the given Editor's HTML document (assumes<br> the Editor contains HTML text).<br> @param {!Editor} editor<br> @return {Array.<{start:{line:number, ch:number}, end:{line:number, ch:number}, text:string}>}<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="JSLintUtils"></a><article>
<p class="path">language/JSLintUtils.js</p>
<h1>JSLintUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Allows JSLint to run on the current document and report results in a UI panel.<br><br> </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {PreferenceStorage}<br>     </p>
<hr>
<pre><code><h2>_enabled</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>getEnabled ()</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {boolean} Enabled state of JSLint.<br>     </p>
<hr>
<pre><code><h2>run ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Run JSLint on the current document. Reports results to the main UI. Displays<br> a gold star when no errors are found.<br>     </p>
<hr>
<pre><code><h2>_updateListeners ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Update DocumentManager listeners.<br>     </p>
<hr>
<pre><code><h2>setEnabled (enabled)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Enable or disable JSLint.<br> @param {boolean} enabled Enabled state.<br>     </p>
<hr>
<pre><code><h2>_handleToggleJSLint ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Command to toggle enablement </p>
<hr>
</article>
<hr>
<hr>
<a name="JSUtils"></a><article>
<p class="path">language/JSUtils.js</p>
<h1>JSUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Set of utilities for simple parsing of JS text.<br> </p>
<hr>
<pre><code><h2>_changedDocumentTracker</h2></code></pre><p><strong>return type: </strong><code>ChangedDocumentTracker}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Tracks dirty documents between invocations of findMatchingFunctions.<br> @type {ChangedDocumentTracker}<br>     </p>
<hr>
<pre><code><h2>_functionRegExp</h2></code></pre><p><strong>return type: </strong><code>RegExp}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Function matching regular expression. Recognizes the forms:<br> "function functionName()", "functionName = function()", and<br> "functionName: function()".<br><br> Note: JavaScript identifier matching is not strictly to spec. This<br> RegExp matches any sequence of characters that is not whitespace.<br> @type {RegExp}<br>     </p>
<hr>
<pre><code><h2>_findAllFunctionsInText (text)</h2></code></pre><p><strong>return type: </strong><code>Object.</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Return an Array with names and offsets for all functions in the specified text<br> @param {!string} text Document text<br> @return {Object.}<br>     </p>
<hr>
<pre><code><h2>_computeOffsets (doc, functionName, functions, rangeResults)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Computes function offsetEnd, lineStart and lineEnd. Appends a result record to rangeResults.<br> @param {!Document} doc<br> @param {!string} functionName<br> @param {!Array.<{offsetStart: number, offsetEnd: number}>} functions<br> @param {!Array.<{document: Document, name: string, lineStart: number, lineEnd: number}>} rangeResults<br>     </p>
<hr>
<pre><code><h2>_readFile (fileInfo, result)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Read a file and build a function list. Result is cached in fileInfo.<br> @param {!FileInfo} fileInfo File to parse<br> @param {!$.Deferred} result Deferred to resolve with all functions found and the document<br>     </p>
<hr>
<pre><code><h2>_shouldGetFromCache (fileInfo)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determines if the document function cache is up to date. <br> @param {FileInfo} fileInfo<br> @return {$.Promise} A promise resolved with true with true when a function cache is available for the document. Resolves<br>   with false when there is no cache or the cache is stale.<br>     </p>
<hr>
<pre><code><h2>_getOffsetsForFunction (docEntries, functionName)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Compute lineStart and lineEnd for each matched function<br> @param {!Array.<{doc: Document, fileInfo: FileInfo, functions: Array.}>} docEntries<br> @param {!string} functionName<br> @param {!Array.} rangeResults<br> @return {$.Promise} A promise resolved with an array of document ranges to populate a MultiRangeInlineEditor.<br>     </p>
<hr>
<pre><code><h2>_getFunctionsForFile (fileInfo)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Resolves with a record containing the Document or FileInfo and an Array of all<br> function names with offsets for the specified file. Results may be cached.<br> @param {FileInfo} fileInfo<br> @return {$.Promise} A promise resolved with a document info object that<br>   contains a map of all function names from the document and each function's start offset. <br>     </p>
<hr>
<pre><code><h2>_getFunctionsInFiles (fileInfos)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Get all functions for each FileInfo.<br> @param {Array.} fileInfos<br> @return {$.Promise} A promise resolved with an array of document info objects that each<br>   contain a map of all function names from the document and each function's start offset.<br>     </p>
<hr>
<pre><code><h2>findMatchingFunctions (functionName, fileInfos)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return all functions that have the specified name.<br><br> @param {!String} functionName The name to match.<br> @param {!Array.} fileInfos The array of files to search.<br> @return {$.Promise} that will be resolved with an Array of objects containing the<br>      source document, start line, and end line (0-based, inclusive range) for each matching function list.<br>      Does not addRef() the documents returned in the array.<br>     </p>
<hr>
<pre><code><h2>findAllMatchingFunctionsInText (text, functionName)</h2></code></pre><p><strong>return type: </strong><code>Array.<{offset:number, functionName:string}></code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Finds all instances of the specified functionName in "text".<br> Returns an Array of Objects with start and end properties.<br><br> @param text {!String} JS text to search<br> @param functionName {!String} function name to search for<br> @return {Array.<{offset:number, functionName:string}>}<br>      Array of objects containing the start offset for each matched function name.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="LiveDevelopment"></a><article>
<p class="path">LiveDevelopment/LiveDevelopment.js</p>
<h1>LiveDevelopment</h1>
<pre><code><h2>module</h2></code></pre><p> LiveDevelopment manages the Inspector, all Agents, and the active LiveDocument<br><br> # STARTING<br><br> To start a session call `open`. This will read the currentDocument from brackets,<br> launch the LiveBrowser (currently Chrome) with the remote debugger port open,<br> establish the Inspector connection to the remote debugger, and finally load all<br> agents.<br><br> # STOPPING<br><br> To stop a session call `close`. This will close the active browser window,<br> disconnect the Inspector, unload all agents, and clean up.<br><br> # STATUS<br><br> Status updates are dispatched as `statusChange` jQuery events. The status<br> codes are:<br><br> -1: Error<br>  0: Inactive<br>  1: Connecting to the remote debugger<br>  2: Loading agents<br>  3: Active<br>  4: Out of sync<br> </p>
<hr>
<pre><code><h2>_urlToPath (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Convert a URL to a local full file path </p>
<hr>
<pre><code><h2>_pathToUrl (path)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Convert a local full file path to a URL </p>
<hr>
<pre><code><h2>_setDocInfo (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Augments the given Brackets document with information that's useful for live development. </p>
<hr>
<pre><code><h2>_getCurrentDocument ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the current document from the document manager<br> _adds extension, url and root to the document<br>     </p>
<hr>
<pre><code><h2>_classForDocument (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine which document class should be used for a given document<br> @param {Document} document<br>     </p>
<hr>
<pre><code><h2>_handleRelatedDocumentDeleted (event, liveDoc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes the given CSS/JSDocument from _relatedDocuments. Signals that the<br> given file is no longer associated with the HTML document that is live (e.g.<br> if the related file has been deleted on disk).<br>     </p>
<hr>
<pre><code><h2>_closeDocument ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close a live document </p>
<hr>
<pre><code><h2>_createDocument (doc, editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a live version of a Brackets document </p>
<hr>
<pre><code><h2>_openDocument (doc, editor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Open a live document<br> @param {Document} source document to open<br>     </p>
<hr>
<pre><code><h2>unloadAgents ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unload the agents </p>
<hr>
<pre><code><h2>loadAgents ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Load the agents </p>
<hr>
<pre><code><h2>enableAgent (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Enable an agent. Takes effect next time a connection is made. Does not affect<br>  current live development sessions.<br><br>  @param {string} name of agent to enable<br>     </p>
<hr>
<pre><code><h2>disableAgent (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Disable an agent. Takes effect next time a connection is made. Does not affect<br>  current live development sessions.<br><br>  @param {string} name of agent to disable<br>     </p>
<hr>
<pre><code><h2>_setStatus (status)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Update the status<br> @param {integer} new status<br>     </p>
<hr>
<pre><code><h2>_onError (event, error)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by Inspector.error </p>
<hr>
<pre><code><h2>_onLoad ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Run when all agents are loaded </p>
<hr>
<pre><code><h2>_onDetached (event, res)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by Inspector.detached </p>
<hr>
<pre><code><h2>_onConnect (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by Inspector.connect </p>
<hr>
<pre><code><h2>_onDisconnect (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by Inspector.disconnect </p>
<hr>
<pre><code><h2>open ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Open the Connection and go live </p>
<hr>
<pre><code><h2>close ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the Connection </p>
<hr>
<pre><code><h2>showHighlight ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Enable highlighting </p>
<hr>
<pre><code><h2>hideHighlight ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hide any active highlighting </p>
<hr>
<pre><code><h2>redrawHighlight ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Redraw highlights *</p>
<hr>
<pre><code><h2>_onDocumentChange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by a document change from the DocumentManager </p>
<hr>
<pre><code><h2>_onDocumentSaved (event, doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by a document saved from the DocumentManager </p>
<hr>
<pre><code><h2>_onDirtyFlagChange (event, doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by a change in dirty flag from the DocumentManager </p>
<hr>
<pre><code><h2>init (theConfig)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the LiveDevelopment Session </p>
<hr>
</article>
<hr>
<hr>
<a name="main"></a><article>
<p class="path">LiveDevelopment/main.js</p>
<h1>main</h1>
<pre><code><h2>module</h2></code></pre><p> main integrates LiveDevelopment into Brackets<br><br> This module creates two menu items:<br><br>  "Go Live": open or close a Live Development session and visualize the status<br>  "Highlight": toggle source highlighting<br><br> @require DocumentManager<br> </p>
<hr>
<pre><code><h2>_loadStyles ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Load Live Development LESS Style </p>
<hr>
<pre><code><h2>_setLabel ($btn, text, style, tooltip)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Change the appearance of a button. Omit text to remove any extra text; omit style to return to default styling;<br> omit tooltip to leave tooltip unchanged.<br>     </p>
<hr>
<pre><code><h2>_handleGoLiveCommand ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Toggles LiveDevelopment and synchronizes the state of UI elements that reports LiveDevelopment status </p>
<hr>
<pre><code><h2>_setupGoLiveButton ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create the menu item "Go Live" </p>
<hr>
<pre><code><h2>_setupGoLiveMenu ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Maintains state of the Live Preview menu item </p>
<hr>
<pre><code><h2>_setupDebugHelpers ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Setup window references to useful LiveDevelopment modules </p>
<hr>
<pre><code><h2>init ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize LiveDevelopment </p>
<hr>
</article>
<hr>
<hr>
<a name="PreferencesDialogs"></a><article>
<p class="path">preferences/PreferencesDialogs.js</p>
<h1>PreferencesDialogs</h1>
<pre><code><h2>module</h2></code></pre><p> PreferencesDialogs<br><br> </p>
<hr>
<pre><code><h2>_validateBaseUrl (url)</h2></code></pre><p><strong>return type: </strong><code>String</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Validate that text string is a valid base url which should map to a server folder<br> @param {String} url<br> @return {String} empty string if valid, otherwise error string<br>     </p>
<hr>
<pre><code><h2>showProjectPreferencesDialog (baseUrl, errorMessage)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Show a dialog that shows the project preferences<br> @param {String} baseUrl - initial value<br> @param {String} errorMessage - error to display<br> @return {$.Promise} A promise object that will be resolved when user successfully enters<br>          project settings and clicks OK, or rejected if user clicks Cancel.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="PreferencesManager"></a><article>
<p class="path">preferences/PreferencesManager.js</p>
<h1>PreferencesManager</h1>
<pre><code><h2>module</h2></code></pre><p> PreferencesManager<br><br> </p>
<hr>
<pre><code><h2>getPreferenceStorage (clientID, defaults)</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retreive preferences data for the given clientID.<br><br> @param {string} clientID Unique identifier<br> @param {string} defaults Default preferences stored as JSON<br> @return {PreferenceStorage} <br>     </p>
<hr>
<pre><code><h2>savePreferences ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Save all preference clients.<br>     </p>
<hr>
<pre><code><h2>_reset ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Reset preferences and callbacks<br>     </p>
<hr>
<pre><code><h2>_initStorage (storage)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Initialize persistent storage implementation<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="PreferenceStorage"></a><article>
<p class="path">preferences/PreferenceStorage.js</p>
<h1>PreferenceStorage</h1>
<pre><code><h2>module</h2></code></pre><p> PreferenceStorage defines an interface for persisting preference data as<br> name/value pairs for a module or plugin.<br> </p>
<hr>
<pre><code><h2>_validateJSONPair (key, value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Validate JSON keys and values.<br>     </p>
<hr>
<pre><code><h2>_commit ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Save to persistent storage.<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage (clientID, json)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a new PreferenceStorage object.<br> @param {!string} clientID Unique identifier for PreferencesManager to<br>  associate this PreferenceStorage data with.<br> @param {!object} json JSON object to persist preference data.<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.getClientID ()</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unique clientID for this PreferenceStorage object.<br> @return {!string} clientID<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.remove (key)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Removes a preference from this PreferenceStorage object.<br> @param {!string} key A unique identifier<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.setValue (key, value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Assigns a value for a key. Overwrites existing value if present.<br> @param {!string} key A unique identifier<br> @param {object} value A valid JSON value<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.getValue (key)</h2></code></pre><p><strong>return type: </strong><code>object</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retreive the value associated with the specified key.<br> @param {!string} key Key name to lookup.<br> @return {object} Returns the value for the key or undefined.<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.getAllValues ()</h2></code></pre><p><strong>return type: </strong><code>!object</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return all name-value pairs as a single JSON object.<br> @return {!object} JSON object containing name/value pairs for all keys<br>  in this PreferenceStorage object.<br>     </p>
<hr>
<pre><code><h2>PreferenceStorage.prototype.setAllValues (obj, append)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Writes name-value pairs from a JSON object as preference properties.<br> Invalid JSON values throw an error and all changes are discarded.<br><br> @param {!object} obj A JSON object with zero or more preference properties to write.<br> @param {boolean} append Defaults to false. When true, properties in the JSON object<br>  overwrite and/or append to the existing set of preference properties. When false,<br>  all existing preferences are deleted before writing new properties from the JSON object.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="FileIndexManager"></a><article>
<p class="path">project/FileIndexManager.js</p>
<pre><code><h2>_indexList</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> All the indexes are stored in this object. The key is the name of the index<br> and the value is a FileIndex. <br>     </p>
<hr>
<pre><code><h2>_indexListDirty</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Tracks whether _indexList should be considered dirty and invalid. Calls that access<br> any data in _indexList should call syncFileIndex prior to accessing the data.<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>FileIndex Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class FileIndex<br><br> A FileIndex contains an array of fileInfos that meet the criteria specified by<br> the filterFunction. FileInfo's in the fileInfo array should unique map to one file.<br>  <br> @constructor<br> @param {!string} indexname<br> @param {function({!entry})} filterFunction returns true to indicate the entry<br>                             should be included in the index<br>     </p>
<hr>
<pre><code><h2>FileInfo Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> class FileInfo<br> <br>  Class to hold info about a file that a FileIndex wishes to retain.<br><br> @constructor<br> @param {!string}<br>     </p>
<hr>
<pre><code><h2>_addIndex (indexName, filterFunction)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Adds a new index to _indexList and marks the list dirty <br><br> A future performance optimization is to only build the new index rather than <br> marking them all dirty<br><br> @private<br> @param {!string} indexName must be unque<br> @param {!function({entry} filterFunction should return true to include an<br>   entry in the index<br><br>    </p>
<hr>
<pre><code><h2>_showMaxFilesDialog ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Error dialog when max files in index is hit<br>    </p>
<hr>
<pre><code><h2>_clearIndexes ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Clears the fileInfo array for all the indexes in _indexList<br> @private<br>    </p>
<hr>
<pre><code><h2>markDirty ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Markes all file indexes dirty<br>     </p>
<hr>
<pre><code><h2>_syncFileIndexReentracyGuard</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Used by syncFileIndex function to prevent reentrancy<br> @private<br>     </p>
<hr>
<pre><code><h2>syncFileIndex ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clears and rebuilds all of the fileIndexes and sets _indexListDirty to false<br> @return {$.Promise} resolved when index has been updated<br>    </p>
<hr>
<pre><code><h2>getFileInfoList (indexName)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the FileInfo array for the specified index<br> @param {!string} indexname<br> @return {$.Promise} a promise that is resolved with an Array of FileInfo's<br>    </p>
<hr>
<pre><code><h2>getFilteredList (indexName, filterFunction)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Calls the filterFunction on every in the index specified by indexName<br> and return a a new list of FileInfo's<br> @param {!string}<br> @param {function({string})} filterFunction<br> @return {$.Promise} a promise that is resolved with an Array of FileInfo's<br>     </p>
<hr>
<pre><code><h2>getFilenameMatches (indexName, filename)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> returns an array of fileInfo's that match the filename parameter<br> @param {!string} indexName<br> @param {!filename}<br> @return {$.Promise} a promise that is resolved with an Array of FileInfo's<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="FileSyncManager"></a><article>
<p class="path">project/FileSyncManager.js</p>
<h1>FileSyncManager</h1>
<pre><code><h2>module</h2></code></pre><p> FileSyncManager is a set of utilities to help track external modifications to the files and folders<br> in the currently open project.<br><br> Currently, we look for external changes purely by checking file timestamps against the last-sync<br> timestamp recorded on Document. Later, we will use actual native directory-watching callbacks<br> instead.<br><br> FUTURE: Whenever we have a 'project file tree model,' we should manipulate that instead of notifying<br> DocumentManager directly. DocumentManager, the tree UI, etc. then all listen to that model for changes.<br> </p>
<hr>
<pre><code><h2>_alreadyChecking</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Guard to spot re-entrancy while syncOpenDocuments() is still in progress<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>_restartPending</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If true, we should bail from the syncOpenDocuments() process and then re-run it. See<br> comments in syncOpenDocuments() for how this works.<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>toReload</h2></code></pre><p><strong>return type: </strong><code>Array.} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Array.} </p>
<hr>
<pre><code><h2>toClose</h2></code></pre><p><strong>return type: </strong><code>Array.} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Array.} </p>
<hr>
<pre><code><h2>editConflicts</h2></code></pre><p><strong>return type: </strong><code>Array.} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Array.} </p>
<hr>
<pre><code><h2>deleteConflicts</h2></code></pre><p><strong>return type: </strong><code>Array.} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {Array.} </p>
<hr>
<pre><code><h2>findExternalChanges (docs)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Scans all the given Documents for changes on disk, and sorts them into four buckets,<br> populating the corresponding arrays:<br>  toReload        - changed on disk; unchanged within Brackets<br>  toClose         - deleted on disk; unchanged within Brackets<br>  editConflicts   - changed on disk; also dirty in Brackets<br>  deleteConflicts - deleted on disk; also dirty in Brackets<br><br> @param {!Array.} docs<br> @return {$.Promise}  Resolved when all scanning done, or rejected immediately if there's any<br>      error while reading file timestamps. Errors are logged but no UI is shown.<br>     </p>
<hr>
<pre><code><h2>syncUnopenWorkingSet ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Scans all the files in the working set that do not have Documents (and thus were not scanned<br> by findExternalChanges()). If any were deleted on disk, removes them from the working set.<br>     </p>
<hr>
<pre><code><h2>reloadDoc (doc)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Reloads the Document's contents from disk, discarding any unsaved changes in the editor.<br><br> @param {!Document} doc<br> @return {$.Promise} Resolved after editor has been refreshed; rejected if unable to load the<br>      file's new content. Errors are logged but no UI is shown.<br>     </p>
<hr>
<pre><code><h2>reloadChangedDocs ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Reloads all the documents in "toReload" silently (no prompts). The operations are all run<br> in parallel.<br> @return {$.Promise} Resolved/rejected after all reloads done; will be rejected if any one<br>      file's reload failed. Errors are logged (by reloadDoc()) but no UI is shown.<br>     </p>
<hr>
<pre><code><h2>showReloadError (error, doc)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {FileError} error<br> @param {!Document} doc<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>closeDeletedDocs ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes all the documents in "toClose" silently (no prompts). Completes synchronously.<br>     </p>
<hr>
<pre><code><h2>presentConflicts ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Walks through all the documents in "editConflicts" & "deleteConflicts" and prompts the user<br> about each one. Processing is sequential: if the user chooses to reload a document, the next<br> prompt is not shown until after the reload has completed.<br><br> @return {$.Promise} Resolved/rejected after all documents have been prompted and (if<br>      applicable) reloaded (and any resulting error UI has been dismissed). Rejected if any<br>      one reload failed.<br>     </p>
<hr>
<pre><code><h2>syncOpenDocuments ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Check to see whether any open files have been modified by an external app since the last time<br> Brackets synced up with the copy on disk (either by loading or saving the file). For clean<br> files, we silently upate the editor automatically. For files with unsaved changes, we prompt<br> the user.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="FileViewController"></a><article>
<p class="path">project/FileViewController.js</p>
<h1>FileViewController</h1>
<pre><code><h2>module</h2></code></pre><p> Responsible for coordinating file selection between views by permitting only one view<br> to show the current file selection at a time. Currently, only WorkingSetView and <br> ProjectManager can show file selection. In general the WorkingSetView takes higher<br> priority until the user selects a file in the ProjectManager.<br><br> Events dispatched:<br> - documentSelectionFocusChange - indicates a document change has caused the focus to <br>   change between the working set and file tree.<br><br> - fileViewFocusChange - indicates the selection focus has changed between the working<br>   set and the project tree, but the document selection has NOT changed<br><br> Current file selection rules in views:<br> - select a file in WorkingSetView > select in WorkingSetView<br> - add a file to the WorkingSetView > select in WorkingSetView<br> - select a file in ProjectManager > select in ProjectManager<br> - open a file from places other than the WorkingSetView or ProjectManager > <br>       select file in WorkignSetView if its in the working set, otherwise select in ProjectManager<br> </p>
<hr>
<pre><code><h2>_curDocChangedDueToMe</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Tracks whether a "currentDocumentChange" notification occured due to a call to <br> openAndSelectDocument.<br> @see FileviewController.openAndSelectDocument<br> @private <br>     </p>
<hr>
<pre><code><h2>_fileSelectionFocus</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @see FileViewController.getFileSelectionFocus()<br>     </p>
<hr>
<pre><code><h2>_selectCurrentDocument ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @returns {$.Promise}<br>     </p>
<hr>
<pre><code><h2>setFileViewFocus (fileSelectionFocus)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Modifies the selection focus in the project side bar. A file can either be selected<br> in the working set (the open files) or in the file tree, but not both.<br> @param {String} fileSelectionFocus - either PROJECT_MANAGER or WORKING_SET_VIEW<br>     </p>
<hr>
<pre><code><h2>openAndSelectDocument (fullPath, fileSelectionFocus)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens a document if it's not open and selects the file in the UI corresponding to<br> fileSelectionFocus<br> @param {!fullPath}<br> @param {string} - must be either WORKING_SET_VIEW or PROJECT_MANAGER<br> @returns {$.Promise}<br>     </p>
<hr>
<pre><code><h2>addToWorkingSetAndSelect (fullPath, selectIn)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens the specified document if it's not already open, adds it to the working set,<br> and selects it in the WorkingSetView<br> @param {!fullPath}<br> @param {?String} selectIn - specify either WORING_SET_VIEW or PROJECT_MANAGER.<br>      Default is WORING_SET_VIEW.<br> @return {!$.Promise}<br>     </p>
<hr>
<pre><code><h2>getFileSelectionFocus ()</h2></code></pre><p><strong>return type: </strong><code>!String</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> returns either WORKING_SET_VIEW or PROJECT_MANAGER<br> @return {!String}<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ProjectManager"></a><article>
<p class="path">project/ProjectManager.js</p>
<h1>ProjectManager</h1>
<pre><code><h2>module</h2></code></pre><p> ProjectManager is the model for the set of currently open project. It is responsible for<br> creating and updating the project tree when projects are opened and when changes occur to<br> the file tree.<br><br> This module dispatches these events:<br>    - beforeProjectClose -- before _projectRoot changes<br>    - projectOpen        -- after  _projectRoot changes<br>    - projectFilesChange -- sent if one of the project files has changed--<br>                            added, removed, renamed, etc.<br><br> These are jQuery events, so to listen for them you do something like this:<br>    $(ProjectManager).on("eventname", handler);<br> </p>
<hr>
<pre><code><h2>$projectTreeContainer</h2></code></pre><p><strong>return type: </strong><code>jQueryObject}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Reference to the tree control container div. Initialized by<br> htmlReady handler<br> @type {jQueryObject}<br>     </p>
<hr>
<pre><code><h2>_projectTree</h2></code></pre><p><strong>return type: </strong><code>jQueryObject}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Reference to the tree control<br> @type {jQueryObject}<br>     </p>
<hr>
<pre><code><h2>_lastSelected</h2></code></pre><p><strong>return type: </strong><code>DOMElement}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Reference to previous selected jstree leaf node when ProjectManager had<br> selection focus from FileViewController.<br> @type {DOMElement}<br>     </p>
<hr>
<pre><code><h2>_suppressSelectionChange</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Internal flag to suppress firing of selectionChanged event.<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>$projectTreeList</h2></code></pre><p><strong>return type: </strong><code>DOMElement}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Reference to the tree control UL element<br> @type {DOMElement}<br>     </p>
<hr>
<pre><code><h2>_projectRoot</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @see getProjectRoot()<br>     </p>
<hr>
<pre><code><h2>_projectBaseUrl</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Encoded URL<br> @ see getBaseUrl(), setBaseUrl()<br>     </p>
<hr>
<pre><code><h2>PREFERENCES_CLIENT_ID</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unique PreferencesManager clientID<br>     </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {PreferenceStorage}<br>     </p>
<hr>
<pre><code><h2>_projectInitialLoad</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Used to initialize jstree state<br>     </p>
<hr>
<pre><code><h2>_hasFileSelectionFocus ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_redraw (selectionChanged, reveal)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>getSelectedItem ()</h2></code></pre><p><strong>return type: </strong><code>?Entry</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the FileEntry or DirectoryEntry corresponding to the selected item, or null<br> if no item is selected.<br><br> @return {?Entry}<br>     </p>
<hr>
<pre><code><h2>getProjectRoot ()</h2></code></pre><p><strong>return type: </strong><code>DirectoryEntry</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the root folder of the currently loaded project, or null if no project is open (during<br> startup, or running outside of app shell).<br> @return {DirectoryEntry}<br>     </p>
<hr>
<pre><code><h2>_getBaseUrlKey ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>getBaseUrl ()</h2></code></pre><p><strong>return type: </strong><code>String</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the encoded Base URL of the currently loaded project, or empty string if no project<br> is open (during startup, or running outside of app shell).<br> @return {String}<br>     </p>
<hr>
<pre><code><h2>setBaseUrl (projectBaseUrl)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sets the encoded Base URL of the currently loaded project.<br> @param {String}<br>     </p>
<hr>
<pre><code><h2>isWithinProject (absPath)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns true if absPath lies within the project, false otherwise.<br> Does not support paths containing ".."<br>     </p>
<hr>
<pre><code><h2>makeProjectRelativeIfPossible (absPath)</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If absPath lies within the project, returns a project-relative path. Else returns absPath<br> unmodified.<br> Does not support paths containing ".."<br> @param {!string} absPath<br> @return {!string}<br>     </p>
<hr>
<pre><code><h2>_getTreeStateKey (path)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Get prefs tree state lookup key for given project path.<br>     </p>
<hr>
<pre><code><h2>_savePreferences ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Save ProjectManager project path and tree state.<br>     </p>
<hr>
<pre><code><h2>_forceSelection (current, target)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_renderTree (treeDataProvider)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Given an input to jsTree's json_data.data setting, display the data in the file tree UI<br> (replacing any existing file tree that was previously displayed). This input could be<br> raw JSON data, or it could be a dataprovider function. See jsTree docs for details:<br> http://www.jstree.com/documentation/json_data<br>     </p>
<hr>
<pre><code><h2>shouldShow (entry)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {Entry} entry File or directory to filter </p>
<hr>
<pre><code><h2>_convertEntriesToJSON (entries)</h2></code></pre><p><strong>return type: </strong><code>Array</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Given an array of NativeFileSystem entries, returns a JSON array representing them in the format<br> required by jsTree. Saves the corresponding Entry object as metadata (which jsTree will store in<br> the DOM via $.data()).<br><br> Does NOT recursively traverse the file system: folders are marked as expandable but are given no<br> children initially.<br><br> @param {Array.} entries  Array of NativeFileSystem entry objects.<br> @return {Array} jsTree node data: array of JSON objects<br>     </p>
<hr>
<pre><code><h2>_treeDataProvider (treeNode, jsTreeCallback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Called by jsTree when the user has expanded a node that has never been expanded before. We call<br> jsTree back asynchronously with the node's immediate children data once the subfolder is done<br> being fetched.<br><br> @param {jQueryObject} treeNode  jQ object for the DOM node being expanded<br> @param {function(Array)} jsTreeCallback  jsTree callback to provide children to<br>     </p>
<hr>
<pre><code><h2>_getWelcomeProjectPath ()</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Returns the full path to the welcome project, which we open on first launch.<br> @private<br> @return {!string} fullPath reference<br>     </p>
<hr>
<pre><code><h2>isWelcomeProjectPath (path)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns true if the given path is the same as one of the welcome projects we've previously opened,<br> or the one for the current build.<br>     </p>
<hr>
<pre><code><h2>updateWelcomeProjectPath (path)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If the provided path is to an old welcome project, updates to the current one.<br>     </p>
<hr>
<pre><code><h2>getInitialProjectPath ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initial project path is stored in prefs, which defaults to the welcome project on<br> first launch. <br>     </p>
<hr>
<pre><code><h2>_loadProject (rootPath)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Loads the given folder as a project. Normally, you would call openProject() instead to let the<br> user choose a folder.<br><br> @param {string} rootPath  Absolute path to the root folder of the project. <br>  If rootPath is undefined or null, the last open project will be restored.<br> @return {$.Promise} A promise object that will be resolved when the<br>  project is loaded and tree is rendered, or rejected if the project path<br>  fails to load.<br>     </p>
<hr>
<pre><code><h2>_findTreeNode (entry)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Finds the tree node corresponding to the given file/folder (rejected if the path lies<br> outside the project, or if it doesn't exist).<br> <br> @param {!Entry} entry FileEntry or DirectoryEntry to find<br> @return {$.Promise} Resolved with jQ obj for the jsTree tree node; or rejected if not found<br>     </p>
<hr>
<pre><code><h2>showInTree (entry)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Expands tree nodes to show the given file or folder and selects it. Silently no-ops if the<br> path lies outside the project, or if it doesn't exist.<br> <br> @param {!Entry} entry FileEntry or DirectoryEntry to show<br> @return {$.Promise} Resolved when done; or rejected if not found<br>     </p>
<hr>
<pre><code><h2>openProject (path)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Open a new project. Currently, Brackets must always have a project open, so<br> this method handles both closing the current project and opening a new project.<br><br> @param {string=} path Optional absolute path to the root folder of the project. <br>  If path is undefined or null, displays a  dialog where the user can choose a<br>  folder to load. If the user cancels the dialog, nothing more happens.<br> @return {$.Promise} A promise object that will be resolved when the<br>  project is loaded and tree is rendered, or rejected if the project path<br>  fails to load.<br>     </p>
<hr>
<pre><code><h2>_projectSettings ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Invoke project settings dialog.<br>     </p>
<hr>
<pre><code><h2>_checkForValidFilename (filename)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br><br> Check a filename for illegal characters. If any are found, show an error<br> dialog and return false. If no illegal characters are found, return true.<br>     </p>
<hr>
<pre><code><h2>createNewItem (baseDir, initialName, skipRename, isFolder)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a new item in the project tree.<br><br> @param baseDir {string} Full path of the directory where the item should go<br> @param initialName {string} Initial name for the item<br> @param skipRename {boolean} If true, don't allow the user to rename the item<br> @param isFolder {boolean} If true, create a folder instead of a file<br> @return {$.Promise} A promise object that will be resolved with the FileEntry<br>  of the created object, or rejected if the user cancelled or entered an illegal<br>  filename.<br>     </p>
<hr>
<pre><code><h2>renameItem (oldName, newName, isFolder)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Rename a file/folder. This will update the project tree data structures<br> and send notifications about the rename.<br><br> @prarm {string} oldName Old item name<br> @param {string} newName New item name<br> @param {boolean} isFolder True if item is a folder; False if it is a file.<br> @return {$.Promise} A promise object that will be resolved or rejected when<br>   the rename is finished.<br>     </p>
<hr>
<pre><code><h2>renameItemInline (entry)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initiates a rename of the selected item in the project tree, showing an inline editor<br> for input. Silently no-ops if the entry lies outside the tree or doesn't exist.<br> @param {!Entry} entry FileEntry or DirectoryEntry to rename<br>     </p>
<hr>
<pre><code><h2>forceFinishRename ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Forces createNewItem() to complete by removing focus from the rename field which causes<br> the new file to be written to disk<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="SidebarView"></a><article>
<p class="path">project/SidebarView.js</p>
<h1>SidebarView</h1>
<pre><code><h2>module</h2></code></pre><p> The view that controls the showing and hiding of the sidebar. Dispatches the following events:<br>    hide -- when the sidebar is hidden<br>    show -- when the sidebar is shown<br> </p>
<hr>
<pre><code><h2>_updateProjectTitle ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Update project title when the project root changes<br>     </p>
<hr>
<pre><code><h2>toggleSidebar (width)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Toggle sidebar visibility.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="WorkingSetSort"></a><article>
<p class="path">project/WorkingSetSort.js</p>
<h1>WorkingSetSort</h1>
<pre><code><h2>module</h2></code></pre><p> Manages the workingSet sort methods.<br> </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {PreferenceStorage}<br>     </p>
<hr>
<pre><code><h2>_sorts</h2></code></pre><p><strong>return type: </strong><code>Array.}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {Array.}<br>     </p>
<hr>
<pre><code><h2>_currentSort</h2></code></pre><p><strong>return type: </strong><code>Sort}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {Sort}<br>     </p>
<hr>
<pre><code><h2>_automaticSort</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {boolean}<br>     </p>
<hr>
<pre><code><h2>_openedDocument</h2></code></pre><p><strong>return type: </strong><code>boolean}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {boolean}<br> Used to know when to do the automatic sort for MRU order.<br>     </p>
<hr>
<pre><code><h2>get (commandID)</h2></code></pre><p><strong>return type: </strong><code>Sort</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retrieves a Sort object by id<br> @param {string} commandID<br> @return {Sort}<br>     </p>
<hr>
<pre><code><h2>getAutomatic ()</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {boolean} Enabled state of Automatic Sort.<br>     </p>
<hr>
<pre><code><h2>_setAutomatic (value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Sets the value of Automatic Sort and updates the menu item.<br> @param {boolean} value<br>     </p>
<hr>
<pre><code><h2>_removeListeners ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Removes current sort DocumentManager listeners.<br>     </p>
<hr>
<pre><code><h2>_disableAutomatic ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Disables Automatic Sort.<br>     </p>
<hr>
<pre><code><h2>_addListeners ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Adds current sort DocumentManager listeners.<br>     </p>
<hr>
<pre><code><h2>_enableAutomatic ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Enables Automatic Sort.<br>     </p>
<hr>
<pre><code><h2>setAutomatic (value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Enables/Disables Automatic Sort depending on the value.<br> @param {boolean} value<br>     </p>
<hr>
<pre><code><h2>_setCurrentSort (newSort)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Sets the current sort method and checks it on the context menu.<br> @param {Sort} newSort<br>     </p>
<hr>
<pre><code><h2>Sort Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @constructor<br> @private<br><br> @param {!string} commandID - valid command identifier.<br> @param {!function(FileEntry, FileEntry)} compareFn - a valid sort function (see register for a longer explanation).<br> @param {!string} events - space-separated DocumentManager possible events ending on ".sort".<br> @param {!function($.Event)} automaticFn - the function that will be called when an automatic sort event is triggered.<br>     </p>
<hr>
<pre><code><h2>Sort.prototype.getCommandID ()</h2></code></pre><p><strong>return type: </strong><code>CommandID</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {CommandID} </p>
<hr>
<pre><code><h2>Sort.prototype.getCompareFn ()</h2></code></pre><p><strong>return type: </strong><code>CompareFn</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {CompareFn} </p>
<hr>
<pre><code><h2>Sort.prototype.getEvents ()</h2></code></pre><p><strong>return type: </strong><code>Events</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {Events} </p>
<hr>
<pre><code><h2>Sort.prototype.callAutomaticFn (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Calls automaticFn </p>
<hr>
<pre><code><h2>Sort.prototype.execute ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Performs the sort and makes it the current sort method<br>     </p>
<hr>
<pre><code><h2>Sort.prototype.sort ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Only performs the working set sort if this is the current sort<br>     </p>
<hr>
<pre><code><h2>register (commandID, compareFn, events, automaticFn)</h2></code></pre><p><strong>return type: </strong><code>?Sort</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers a working set sort method.<br> @param {!string} commandID - valid command identifier used for the sort method.<br>      Core commands in Brackets use a simple command title as an id, for example "open.file".<br>      Extensions should use the following format: "author.myextension.mycommandname". <br>      For example, "lschmitt.csswizard.format.css".<br> @param {!function(FileEntry, FileEntry)} compareFn - the function that will be used inside JavaScript's<br>      sort function. The return a value should be >0 (sort a to a lower index than b), =0 (leaves a and b<br>      unchanged with respect to each other) or <0 (sort b to a lower index than a) and must always returns<br>      the same value when given a specific pair of elements a and b as its two arguments.<br>      Documentation: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/sort<br> @param {?string} events - one or more space-separated event types that DocumentManger uses.<br>      Each event passed will trigger the automatic sort. If no events are passed, the automatic<br>      sort will be disabled for that sort method.<br> @param {?function($.Event)} automaticFn - the function that will be called when an automatic sort<br>      event is triggered. If no function is passed the automatic sort will just call the sort function.<br> @return {?Sort}<br>     </p>
<hr>
<pre><code><h2>_handleSortWorkingSetByAdded ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Command Handlers </p>
<hr>
</article>
<hr>
<hr>
<a name="WorkingSetView"></a><article>
<p class="path">project/WorkingSetView.js</p>
<h1>WorkingSetView</h1>
<pre><code><h2>module</h2></code></pre><p> WorkingSetView generates the UI for the list of the files user is editing based on the model provided by EditorManager.<br> The UI allows the user to see what files are open/dirty and allows them to close files and specify the current editor.<br><br> </p>
<hr>
<pre><code><h2>_FILE_KEY</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Each list item in the working set stores a references to the related document in the list item's data.  <br>  Use listItem.data(_FILE_KEY) to get the document reference<br>     </p>
<hr>
<pre><code><h2>_fireSelectionChanged ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Redraw selection when list size changes or DocumentManager currentDocument changes.<br>     </p>
<hr>
<pre><code><h2>_adjustForScrollbars ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> adds the style 'vertical-scroll' if a vertical scroll bar is present<br>     </p>
<hr>
<pre><code><h2>_redraw ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Shows/Hides open files list based on working set content.<br>     </p>
<hr>
<pre><code><h2>_reorderListItem (event, $listItem, fromClose)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Starts the drag and drop working set view reorder.<br> @private<br> @param {!Event} event - jQuery event<br> @paran {!HTMLLIElement} $listItem - jQuery element<br> @param {?bool} fromClose - true if reorder was called from the close icon<br>     </p>
<hr>
<pre><code><h2>_updateFileStatusIcon (listElement, isDirty, canClose)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Updates the appearance of the list element based on the parameters provided<br> @private<br> @param {!HTMLLIElement} listElement<br> @param {bool} isDirty <br> @param {bool} canClose<br>     </p>
<hr>
<pre><code><h2>_updateListItemSelection (listItem, selectedDoc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Updates the appearance of the list element based on the parameters provided.<br> @private<br> @param {!HTMLLIElement} listElement<br> @param {?Document} selectedDoc<br>     </p>
<hr>
<pre><code><h2>_createNewListItem (file)</h2></code></pre><p><strong>return type: </strong><code>HTMLLIElement</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Builds the UI for a new list item and inserts in into the end of the list<br> @private<br> @param {FileEntry} file<br> @return {HTMLLIElement} newListItem<br>     </p>
<hr>
<pre><code><h2>_rebuildWorkingSet ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Deletes all the list items in the view and rebuilds them from the working set model<br> @private<br>     </p>
<hr>
<pre><code><h2>_findListItemFromFile (file)</h2></code></pre><p><strong>return type: </strong><code>HTMLLIItem</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> Finds the listItem item assocated with the file. Returns null if not found.<br> @private<br> @param {!FileEntry} file<br> @return {HTMLLIItem}<br>     </p>
<hr>
<pre><code><h2>_scrollSelectedDocIntoView ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_updateListSelection ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_handleFileAdded (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_handleFileListAdded (files)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_handleDocumentSelectionChange ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_handleFileRemoved (file)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @param {FileEntry} file <br>     </p>
<hr>
<pre><code><h2>_handleWorkingSetSort ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_handleDirtyFlagChanged (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @param {Document} doc <br>     </p>
<hr>
<pre><code><h2>_handleFileNameChanged (oldName, newName)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @param {string} oldName<br> @param {string} newName<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="FindInFiles"></a><article>
<p class="path">search/FindInFiles.js</p>
<pre><code><h2>_labelForScope (scope)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns label text to indicate the search scope. Already HTML-escaped.<br> @param {?Entry} scope<br>     </p>
<hr>
<pre><code><h2>FindInFilesDialog Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> FindInFilesDialog class<br> @constructor<br><br>    </p>
<hr>
<pre><code><h2>FindInFilesDialog.prototype._createDialogDiv (template)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a dialog div floating on top of the current code mirror editor<br>    </p>
<hr>
<pre><code><h2>FindInFilesDialog.prototype._close (value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the search dialog and resolves the promise that showDialog returned<br>    </p>
<hr>
<pre><code><h2>FindInFilesDialog.prototype.showDialog (initialString, scope)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Shows the search dialog <br> @param {?string} initialString Default text to prepopulate the search field with<br> @param {?Entry} scope Search scope, or null to search whole proj<br> @returns {$.Promise} that is resolved with the string to search for<br>    </p>
<hr>
<pre><code><h2>inScope (fileInfo, scope)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @param {!FileInfo} fileInfo File in question<br> @param {?Entry} scope Search scope, or null if whole project<br> @return {boolean}<br>     </p>
<hr>
<pre><code><h2>doFindInFiles (scope)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Displays a non-modal embedded dialog above the code mirror editor that allows the user to do<br> a find operation across all files in the project.<br> @param {?Entry} scope Project file/subfolder to search within; else searches whole project.<br>    </p>
<hr>
<pre><code><h2>doFindInSubtree ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Search within the file/subtree defined by the sidebar selection </p>
<hr>
</article>
<hr>
<hr>
<a name="FindReplace"></a><article>
<p class="path">search/FindReplace.js</p>
<pre><code><h2>doSearch (cm, rev)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> If no search pending, opens the search dialog. If search is already open, moves to<br> next/prev result (depending on 'rev')<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="QuickOpen"></a><article>
<p class="path">search/QuickOpen.js</p>
<pre><code><h2>plugins</h2></code></pre><p><strong>return type: </strong><code>Array. </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type Array. </p>
<hr>
<pre><code><h2>currentPlugin</h2></code></pre><p><strong>return type: </strong><code>QuickOpenPlugin} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {QuickOpenPlugin} </p>
<hr>
<pre><code><h2>fileList</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type Array.</p>
<hr>
<pre><code><h2>fileListPromise</h2></code></pre><p><strong>return type: </strong><code>$.Promise </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type $.Promise </p>
<hr>
<pre><code><h2>origDocPath</h2></code></pre><p><strong>return type: </strong><code>string} full path</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remembers the current document that was displayed when showDialog() was called<br> The current document is restored if the user presses escape<br> @type {string} full path<br>     </p>
<hr>
<pre><code><h2>origSelection</h2></code></pre><p><strong>return type: </strong><code>?{start:{line:number, ch:number}, end:{line:number, ch:number}}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remembers the selection in the document origDocPath that was present when showDialog() was called.<br> Focusing on an item can cause the current and and/or selection to change, so this variable restores it.<br> The cursor position is restored if the user presses escape.<br> @type ?{start:{line:number, ch:number}, end:{line:number, ch:number}}<br>     </p>
<hr>
<pre><code><h2>dialogOpen</h2></code></pre><p><strong>return type: </strong><code>boolean} </code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @type {boolean} </p>
<hr>
<pre><code><h2>SearchResult (label)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Object representing a search result with associated metadata (added as extra ad hoc fields) </p>
<hr>
<pre><code><h2>QuickOpenPlugin (name, fileTypes, done, search, match, itemFocus, itemSelect, resultsFormatter)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Defines API for new QuickOpen plug-ins<br>     </p>
<hr>
<pre><code><h2>addQuickOpenPlugin (pluginDef)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates and registers a new QuickOpenPlugin<br><br> @param { name: string, <br>          fileTypes:Array.,<br>          done: function(),<br>          search: function(string):Array.,<br>          match: function(string):boolean,<br>          itemFocus: function(?SearchResult|string),<br>          itemSelect: funciton(?SearchResult|string),<br>          resultsFormatter: ?function(SearchResult|string, string):string<br>        } pluginDef<br><br> Parameter Documentation:<br><br> name - plug-in name<br> fileTypes - file types array. Example: ["js", "css", "txt"]. An empty array<br>      indicates all file types.<br> done - called when quick open is complete. Plug-in should clear its internal state.<br> search - takes a query string and returns an array of strings that match the query.<br> match - takes a query string and returns true if this plug-in wants to provide<br>      results for this query.<br> itemFocus - performs an action when a result has been highlighted (via arrow keys, mouseover, etc.).<br>      The highlighted search result item (as returned by search()) is passed as an argument.<br> itemSelect - performs an action when a result is chosen.<br>      The selected search result item (as returned by search()) is passed as an argument.<br> resultFormatter - takes a query string and an item string and returns <br>      a  item to insert into the displayed search results. If null, default is provided.<br><br> If itemFocus() makes changes to the current document or cursor/scroll position and then the user<br> cancels Quick Open (via Esc), those changes are automatically reverted.<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog Class</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> QuickNavigateDialog class<br> @constructor<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._createDialogDiv (template)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a dialog div floating on top of the current code mirror editor<br>     </p>
<hr>
<pre><code><h2>extractLineNumber (query)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Attempts to extract a line number from the query where the line number<br> is followed by a colon. Callers should explicitly test result with isNaN()<br> <br> @param {string} query string to extract line number from<br> @returns {number} line number. Returns NaN to indicate no line numbeer was found<br>     </p>
<hr>
<pre><code><h2>domItemToSearchResult (domItem)</h2></code></pre><p><strong>return type: </strong><code>SearchResult|string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Converts from list item DOM node to search provider list object<br> @param {jQueryObject} domItem<br> @return {SearchResult|string} value returned from search()<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._handleItemSelect (selectedDOMItem)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Navigates to the appropriate file and file location given the selected item <br> and closes the dialog.<br><br> Note, if selectedItem is null quick search should inspect $searchField for text<br> that may have not matched anything in in the list, but may have information<br> for carrying out an action (e.g. go to line).<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._handleItemFocus (selectedDOMItem)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens the file specified by selected item if there is no current plug-in, otherwise defers handling<br> to the currentPlugin<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._handleKeyUp (e)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> KeyUp is for cases that handle AFTER a character has been committed to $searchField<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._handleKeyDown (e)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the dialog when the Enter or Esc key is pressed<br><br> Note, when keydown is handled $searchField does not yet have the character added<br> for the current event e. <br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._handleResultsReady (results)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Give visual clue when there are no results<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype._close ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Closes the search dialog and notifies all quick open plugins that<br> searching is done.<br>     </p>
<hr>
<pre><code><h2>_adjustScoreForSegment (segmentCounter, score)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The current scoring gives a boost for matches in the "most specific" (generally farthest right) <br> segment of the string being tested against the query.<br>     </p>
<hr>
<pre><code><h2>_boostForMatches (sequentialMatches)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Additional points are added when multiple characters in the string<br> being tested match against query characters.<br>     </p>
<hr>
<pre><code><h2>_boostForPathSegmentStart (sequentialMatches)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The score is boosted for matches that occur at the beginning<br> of a segment of string that is being tested against the query.<br>     </p>
<hr>
<pre><code><h2>_boostForUpperCase (c)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Upper case characters are boosted to help match MixedCase strings better.<br>    </p>
<hr>
<pre><code><h2>stringMatch (str, query)</h2></code></pre><p><strong>return type: </strong><code>?SearchResult</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Performs matching of a string based on a query, and scores<br> the result based on specificity (assuming that the rightmost<br> side of the input is the most specific) and how clustered the<br> query characters are in the input string. The matching is<br> case-insensitive, but case is taken into account in the scoring.<br><br> If the query characters cannot be found in order (but not necessarily all together), <br> undefined is returned.<br><br> The returned SearchResult has a matchGoodness score that can be used<br> for sorting. It also has a stringRanges array, each entry with<br> "text", "matched" and "segment". If you string the "text" properties together, you will<br> get the original str. Using the matched property, you can highlight<br> the string matches. The segment property tells you the most specific (rightmost)<br> segment covered by the range, though there may be more than one segment covered.<br> Segments are currently determined by "/"s.<br><br> Use basicMatchSort() to sort the filtered results taking this ranking into account.<br> The label of the SearchResult is set to 'str'.<br> @param {!string} str<br> @param {!string} query<br> @return {?SearchResult}<br>    </p>
<hr>
<pre><code><h2>multiFieldSort (searchResults, fields)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sorts an array of SearchResult objects on a primary field, followed by secondary fields<br> in case of ties. 'fields' maps field name to priority, where 0 is the primary field. E.g.:<br>      multiFieldSort(bugList, { milestone: 0, severity: 1 });<br> Would sort a bug list by milestone, and within each milestone sort bugs by severity.<br><br> Any fields that have a string value are compared case-insensitively. Fields used should be<br> present on all SearchResult objects (no optional/undefined fields).<br><br> @param {!Array.} searchResults<br> @param {!Object.} fields<br>     </p>
<hr>
<pre><code><h2>basicMatchSort (searchResults)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Sorts search results generated by stringMatch(): results are sorted into several<br> tiers based on how well they matched the search query, then sorted alphabetically<br> within each tier.<br>     </p>
<hr>
<pre><code><h2>highlightMatch (item, matchClass, rangeFilter)</h2></code></pre><p><strong>return type: </strong><code>!string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Formats item's label as properly escaped HTML text, highlighting sections that match 'query'.<br> If item is a SearchResult generated by stringMatch(), uses its metadata about which string ranges<br> matched; else formats the label with no highlighting.<br> @param {!string|SearchResult} item<br> @param {?string} matchClass CSS class for highlighting matched text<br> @param {?function(number, string):string} rangeFilter<br> @return {!string} bolded, HTML-escaped result<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype.handleDocumentMouseDown (e)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the dialog when the user clicks outside of it. Smart-autocomplete listens for this and automatically closes its popup,<br> but we want to close the whole search "dialog." (And we can't just piggyback on the popup closing event, since there are cases<br> where the popup closes that we want the dialog to remain open (e.g. deleting search term via backspace).<br>     </p>
<hr>
<pre><code><h2>QuickNavigateDialog.prototype.showDialog (prefix, initialString)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Shows the search dialog and initializes the auto suggestion list with filenames from the current project<br>     </p>
<hr>
<pre><code><h2>beginSearch (prefix, initialString)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens the Quick Open bar prepopulated with the given prefix (to select a mode) and optionally<br> with the given query text too. Updates text field contents if Quick Open already open.<br> @param {?string} prefix<br> @param {?string} initialString<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="AppInit"></a><article>
<p class="path">utils/AppInit.js</p>
<h1>AppInit</h1>
<pre><code><h2>module</h2></code></pre><p> Defines hooks to assist with module initialization.<br><br> This module defines 2 methods for client modules to attach callbacks:<br>    - htmlReady - When the main application template is rendered<br>    - appReady - When Brackets completes loading all modules and extensions<br><br> These are *not* jQuery events. Each method is similar to $(document).ready<br> in that it will call the handler immediately if brackets is already done<br> loading.<br> </p>
<hr>
<pre><code><h2>appReady (callback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds a callback for the ready hook. Handlers are called after<br> htmlReady is done, the initial project is loaded, and all extensions are<br> loaded.<br> @param {function} handler<br>     </p>
<hr>
<pre><code><h2>htmlReady (callback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds a callback for the htmlReady hook. Handlers are called after the<br> main application html template is rendered.<br> @param {function} handler<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Async"></a><article>
<p class="path">utils/Async.js</p>
<h1>Async</h1>
<pre><code><h2>module</h2></code></pre><p> Utilities for working with Deferred, Promise, and other asynchronous processes.<br> </p>
<hr>
<pre><code><h2>doInParallel (items, beginProcessItem, failFast)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Executes a series of tasks in parallel, returning a "master" Promise that is resolved once<br> all the tasks have resolved. If one or more tasks fail, behavior depends on the failFast<br> flag:<br>   - If true, the master Promise is rejected as soon as the first task fails. The remaining<br>     tasks continue to completion in the background.<br>   - If false, the master Promise is rejected after all tasks have completed.<br><br> If nothing fails:          (M = master promise; 1-4 = tasks; d = done; F = fail)<br>  M  ------------d<br>  1 >---d        .<br>  2 >------d     .<br>  3 >---------d  .<br>  4 >------------d<br><br> With failFast = false:<br>  M  ------------F<br>  1 >---d     .  .<br>  2 >------d  .  .<br>  3 >---------F  .<br>  4 >------------d<br><br> With failFast = true: -- equivalent to $.when()<br>  M  ---------F<br>  1 >---d     .<br>  2 >------d  .<br>  3 >---------F<br>  4 >------------d   (#4 continues even though master Promise has failed)<br> (Note: if tasks finish synchronously, the behavior is more like failFast=false because you<br> won't get a chance to respond to the master Promise until after all items have been processed)<br><br> To perform task-specific work after an individual task completes, attach handlers to each<br> Promise before beginProcessItem() returns it.<br><br> Note: don't use this if individual tasks (or their done/fail handlers) could ever show a user-<br> visible dialog: because they run in parallel, you could show multiple dialogs atop each other.<br><br> @param {!Array.<*>} items<br> @param {!function(*, number):Promise} beginProcessItem<br> @param {!boolean} failFast<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>doSequentially (items, beginProcessItem, failAndStopFast)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Executes a series of tasks in serial (task N does not begin until task N-1 has completed).<br> Returns a "master" Promise that is resolved once all the tasks have resolved. If one or more<br> tasks fail, behavior depends on the failAndStopFast flag:<br>   - If true, the master Promise is rejected as soon as the first task fails. The remaining<br>     tasks are never started (the serial sequence is stopped).<br>   - If false, the master Promise is rejected after all tasks have completed.<br><br> If nothing fails:<br>  M  ------------d<br>  1 >---d        .<br>  2     >--d     .<br>  3        >--d  .<br>  4           >--d<br><br> With failAndStopFast = false:<br>  M  ------------F<br>  1 >---d     .  .<br>  2     >--d  .  .<br>  3        >--F  .<br>  4           >--d<br><br> With failAndStopFast = true:<br>  M  ---------F<br>  1 >---d     .<br>  2     >--d  .<br>  3        >--F<br>  4          (#4 never runs)<br><br> To perform task-specific work after an individual task completes, attach handlers to each<br> Promise before beginProcessItem() returns it.<br> <br> @param {!Array.<*>} items<br> @param {!function(*, number):Promise} beginProcessItem<br> @param {!boolean} failAndStopFast<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>doSequentiallyInBackground (items, fnProcessItem, maxBlockingTime, idleTime)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Executes a series of synchronous tasks sequentially spread over time-slices less than maxBlockingTime.<br> Processing yields by idleTime between time-slices.<br> <br> @param {!Array.<*>} items<br> @param {!function(*, number)} fnProcessItem  Function that synchronously processes one item<br> @param {number=} maxBlockingTime<br> @param {number=} idleTime<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>doInParallel_aggregateErrors (items, beginProcessItem)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Executes a series of tasks in parallel, saving up error info from any that fail along the way.<br> Returns a Promise that is only resolved/rejected once all tasks are complete. This is<br> essentially a wrapper around doInParallel(..., false).<br><br> If one or more tasks failed, the entire "master" promise is rejected at the end - with one<br> argument: an array objects, one per failed task. Each error object contains:<br>  - item -- the entry in items whose task failed<br>  - error -- the first argument passed to the fail() handler when the task failed<br><br> @param {!Array.<*>} items<br> @param {!function(*, number):Promise} beginProcessItem<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>ERROR_TIMEOUT</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Value passed to fail() handlers that have been triggered due to withTimeout()'s timeout </p>
<hr>
<pre><code><h2>withTimeout (promise, timeout)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds timeout-driven failure to a Promise: returns a new Promise that is resolved/rejected when<br> the given original Promise is resolved/rejected, OR is rejected after the given delay - whichever<br> happens first.<br> <br> If the original Promise is resolved/rejected first, done()/fail() handlers receive arguments<br> piped from the original Promise. If the timeout occurs first instead, fail() is called with the<br> token Async.ERROR_TIMEOUT.<br> <br> @param {$.Promise} promise<br> @param {number} timeout<br> @return {$.Promise}<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="BuildInfoUtils"></a><article>
<p class="path">utils/BuildInfoUtils.js</p>
<h1>BuildInfoUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Utilities for determining the git SHA from an optional repository or from the<br> installed copy of Brackets.<br> </p>
<hr>
<pre><code><h2>_loadSHA (path, callback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Loads a SHA from Git metadata file. If the file contains a symbolic ref name, follows the ref<br> and loads the SHA from that file in turn.<br>     </p>
<hr>
<pre><code><h2>getBracketsSHA ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @return {$.Promise} A promise resolved with the git branch and SHA<br>     of a local copy of a repository or the branch and SHA<br>     embedded at build-time in the package.json repository metadata.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="CollectionUtils"></a><article>
<p class="path">utils/CollectionUtils.js</p>
<h1>CollectionUtils</h1>
<pre><code><h2>module</h2></code></pre><p>  Utilities functions related to data collections (arrays & maps)<br> </p>
<hr>
<pre><code><h2>indexOf (array, isMatch)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the first index in 'array' for which isMatch() returns true, or -1 if none<br> @param {!Array.<*>|jQueryObject} array<br> @param {!function(*, Number):boolean} isMatch Passed (item, index), same as with forEach()<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ExtensionLoader"></a><article>
<p class="path">utils/ExtensionLoader.js</p>
<h1>ExtensionLoader</h1>
<pre><code><h2>module</h2></code></pre><p> ExtensionLoader searches the filesystem for extensions, then creates a new context for each one and loads it<br> </p>
<hr>
<pre><code><h2>getUserExtensionPath ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the full path of the default user extensions directory. This is in the users<br> application support directory, which is typically<br> /Users//Application Support/Brackets/extensions/user on the mac, and<br> C:\Users\\AppData\Roaming\Brackets\extensions\user on windows.<br>     </p>
<hr>
<pre><code><h2>getRequireContextForExtension (name)</h2></code></pre><p><strong>return type: </strong><code>!Object</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the require.js require context used to load an extension<br><br> @param {!string} name, used to identify the extension<br> @return {!Object} A require.js require object used to load the extension, or undefined if <br> there is no require object ith that name<br>     </p>
<hr>
<pre><code><h2>loadExtension (name, config, entryPoint)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Loads the extension that lives at baseUrl into its own Require.js context<br><br> @param {!string} name, used to identify the extension<br> @param {!{baseUrl: string}} config object with baseUrl property containing absolute path of extension<br> @param {!string} entryPoint, name of the main js file to load<br> @return {!$.Promise} A promise object that is resolved when the extension is loaded, or rejected<br>              if the extension fails to load or throws an exception immediately when loaded.<br>              (Note: if extension contains a JS syntax error, promise is resolved not rejected).<br>     </p>
<hr>
<pre><code><h2>testExtension (name, config, entryPoint)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Runs unit tests for the extension that lives at baseUrl into its own Require.js context<br><br> @param {!string} name, used to identify the extension<br> @param {!{baseUrl: string}} config object with baseUrl property containing absolute path of extension<br> @param {!string} entryPoint, name of the main js file to load<br> @return {!$.Promise} A promise object that is resolved when all extensions complete loading.<br>     </p>
<hr>
<pre><code><h2>_loadAll (directory, config, entryPoint, processExtension)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Loads a file entryPoint from each extension folder within the baseUrl into its own Require.js context<br><br> @param {!string} directory, an absolute native path that contains a directory of extensions.<br>                  each subdirectory is interpreted as an independent extension<br> @param {!{baseUrl: string}} config object with baseUrl property containing absolute path of extension folder<br> @param {!string} entryPoint Module name to load (without .js suffix)<br> @param {function} processExtension <br> @return {!$.Promise} A promise object that is resolved when all extensions complete loading.<br>     </p>
<hr>
<pre><code><h2>loadAllExtensionsInNativeDirectory (directory)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Loads the extension that lives at baseUrl into its own Require.js context<br><br> @param {!string} directory, an absolute native path that contains a directory of extensions.<br>                  each subdirectory is interpreted as an independent extension<br> @return {!$.Promise} A promise object that is resolved when all extensions complete loading.<br>     </p>
<hr>
<pre><code><h2>testAllExtensionsInNativeDirectory (directory)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Runs unit test for the extension that lives at baseUrl into its own Require.js context<br><br> @param {!string} directory, an absolute native path that contains a directory of extensions.<br>                  each subdirectory is interpreted as an independent extension<br> @return {!$.Promise} A promise object that is resolved when all extensions complete loading.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ExtensionUtils"></a><article>
<p class="path">utils/ExtensionUtils.js</p>
<h1>ExtensionUtils</h1>
<pre><code><h2>module</h2></code></pre><p> ExtensionUtils defines utility methods for implementing extensions.<br> </p>
<hr>
<pre><code><h2>loadStyleSheet (module, path)</h2></code></pre><p><strong>return type: </strong><code>!$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Loads a style sheet relative to the extension module.<br><br> @param {!module} module Module provided by RequireJS<br> @param {!string} path Relative path from the extension folder to a CSS file<br> @return {!$.Promise} A promise object that is resolved if the CSS file can be loaded.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Global"></a><article>
<p class="path">utils/Global.js</p>
<h1>Global</h1>
<pre><code><h2>module</h2></code></pre><p> Initializes the global "brackets" variable and it's properties.<br> Modules should not access the global.brackets object until either<br> (a) the module requires this module, i.e. require("utils/Global") or<br> (b) the module receives a "ready" callback from the utils/AppReady module.<br> </p>
<hr>
</article>
<hr>
<hr>
<a name="KeyEvent"></a><article>
<p class="path">utils/KeyEvent.js</p>
<h1>KeyEvent</h1>
<pre><code><h2>module</h2></code></pre><p> Utilities module to provide constants for keyCodes<br> </p>
<hr>
</article>
<hr>
<hr>
<a name="NativeApp"></a><article>
<p class="path">utils/NativeApp.js</p>
<pre><code><h2>_browserErrToFileError (err)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Map an fs error code to a FileError.<br>     </p>
<hr>
<pre><code><h2>openLiveBrowser (url, enableRemoteDebugging)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> openLiveBrowser<br><br> @param {string} url<br> @return {$.Promise} <br>     </p>
<hr>
<pre><code><h2>closeLiveBrowser (pid)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> closeLiveBrowser<br><br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>closeAllLiveBrowsers ()</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> closeAllLiveBrowsers<br> Closes all the browsers that were tracked on open<br> TODO: does not seem to work on Windows<br> @return {$.Promise}<br>     </p>
<hr>
<pre><code><h2>openURLInDefaultBrowser (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Opens a URL in the system default browser<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="PerfUtils"></a><article>
<p class="path">utils/PerfUtils.js</p>
<h1>PerfUtils</h1>
<pre><code><h2>module</h2></code></pre><p> This is a collection of utility functions for gathering performance data.<br> </p>
<hr>
<pre><code><h2>enabled</h2></code></pre><p><strong>return type: </strong><code>boolean} enabled</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Flag to enable/disable performance data gathering. Default is true (enabled)<br> @type {boolean} enabled<br>     </p>
<hr>
<pre><code><h2>perfData</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Peformance data is stored in this hash object. The key is the name of the<br> test (passed to markStart/addMeasurement), and the value is the time, in <br> milliseconds, that it took to run the test. If multiple runs of the same test<br> are made, the value is an Array with each run stored as an entry in the Array.<br>     </p>
<hr>
<pre><code><h2>activeTests</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Active tests. This is a hash of all tests that have had markStart() called,<br> but have not yet had addMeasurement() called.<br>     </p>
<hr>
<pre><code><h2>updatableTests</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Updatable tests. This is a hash of all tests that have had markStart() called,<br> and have had updateMeasurement() called. Caller must explicitly remove tests<br> from this list using finalizeMeasurement()<br>     </p>
<hr>
<pre><code><h2>perfMeasurementIds</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hash of measurement IDs<br>     </p>
<hr>
<pre><code><h2>PerfMeasurement (id, name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> A unique key to log performance data<br><br> @param {!string} id Unique ID for this measurement name<br> @param {!name} name A short name for this measurement<br>     </p>
<hr>
<pre><code><h2>createPerfMeasurement (id, name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a new PerfMeasurement key. Adds itself to the module export.<br> Can be accessed on the module, e.g. PerfUtils.MY_PERF_KEY.<br><br> @param {!string} id Unique ID for this measurement name<br> @param {!name} name A short name for this measurement<br>     </p>
<hr>
<pre><code><h2>toMeasurementId (o)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Convert a PerfMeasurement instance to it's id. Otherwise uses the string name for backwards compatibility.<br>     </p>
<hr>
<pre><code><h2>_markStart (name, time)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Helper function for markStart()<br><br> @param {string} name  Timer name.<br> @param {number} time  Timer start time.<br>     </p>
<hr>
<pre><code><h2>markStart (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Start a new named timer. The name should be as descriptive as possible, since<br> this name will appear as an entry in the performance report. <br> For example: "Open file: /Users/brackets/src/ProjectManager.js"<br><br> Multiple timers can be opened simultaneously, but all open timers must have<br> a unique name.<br><br> @param {(string|Array.)} name  Single name or an Array of names.<br> @returns {string} timer name. Returned for convenience to store and use<br>      for calling addMeasure(). Since name is often creating via concatenating<br>      strings this return value allows clients to construct the name once.<br>     </p>
<hr>
<pre><code><h2>addMeasurement (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Stop a timer and add its measurements to the performance data.<br><br> Multiple measurements can be stored for any given name. If there are<br> multiple values for a name, they are stored in an Array.<br><br> If markStart() was not called for the specified timer, the<br> measured time is relative to app startup.<br><br> @param {string} name  Timer name.<br>     </p>
<hr>
<pre><code><h2>updateMeasurement (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> This function is similar to addMeasurement(), but it allows timing the<br> *last* event, when you don't know which event will be the last one.<br><br> Tests that are in the activeTests list, have not yet been added, so add<br> measurements to the performance data, and move test to updatableTests list.<br> A test is moved to the updatable list so that it no longer passes isActive().<br><br> Tests that are already in the updatableTests list are updated.<br><br> Caller must explicitly remove test from the updatableTests list using<br> finalizeMeasurement().<br><br> If markStart() was not called for the specified timer, there is no way to<br> determine if this is the first or subsequent call, so the measurement is<br> not updatable, and it is handled in addMeasurement().<br><br> @param {string} name  Timer name.<br>     </p>
<hr>
<pre><code><h2>finalizeMeasurement (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove timer from lists so next action starts a new measurement<br> <br> updateMeasurement may not have been called, so timer may be<br> in either or neither list, but should never be in both.<br><br> @param {string} name  Timer name.<br>     </p>
<hr>
<pre><code><h2>isActive (name)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns whether a timer is active or not, where "active" means that<br> timer has been started with addMark(), but has not been added to perfdata<br> with addMeasurement().<br><br> @param {string} name  Timer name.<br> @return {boolean} Whether a timer is active or not.<br>     </p>
<hr>
<pre><code><h2>getDelimitedPerfData ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the performance data as a tab deliminted string<br> @returns {string}<br>      </p>
<hr>
<pre><code><h2>getData (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns the measured value for the given measurement name.<br> @param {string|PerfMeasurement} name The measurement to retreive.<br>     </p>
<hr>
<pre><code><h2>clear ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clear all logs including metric data and active tests.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Resizer"></a><article>
<p class="path">utils/Resizer.js</p>
<h1>Resizer</h1>
<pre><code><h2>module</h2></code></pre><p> Resizer is a Module utility to inject resizing capabilities to any element<br> inside Brackets.<br> <br> On initialization, Resizer discovers all nodes tagged as "vert-resizable" <br> and "horz-resizable" to add the resizer handler. Additionally, "top-resizer", <br> "bottom-resizer", "left-resizer" and "right-resizer" classes control the <br> position of the resizer on the element.<br><br> An element can be made resizable at any time using the `makeResizable()` API.<br> Panel sizes are saved via preferences and restored when the DOM node becomes resizable<br> again in a subsequent launch.<br><br> The resizable elements trigger a panelResizeStart, panelResizeUpdate and panelResizeEnd<br> event that can be used to create performance optimizations (such as hiding/showing elements <br> while resizing), custom layout logic, etc. See makeResizable() for details on the events.<br><br> A resizable element can be collapsed/expanded using the `show`, `hide` and `toggle` APIs or<br> via user action. This triggers panelCollapsed/panelExpanded events - see makeResizable().<br> </p>
<hr>
<pre><code><h2>_prefs</h2></code></pre><p><strong>return type: </strong><code>PreferenceStorage}</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> @type {PreferenceStorage}<br>     </p>
<hr>
<pre><code><h2>show (element)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Shows a resizable element.<br> @param {DOMNode} element Html element to show if possible<br>     </p>
<hr>
<pre><code><h2>hide (element)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hides a resizable element.<br> @param {DOMNode} element Html element to hide if possible<br>     </p>
<hr>
<pre><code><h2>toggle (element)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Changes the visibility state of a resizable element. The toggle<br> functionality is added when an element is made resizable.<br> @param {DOMNode} element Html element to toggle<br>     </p>
<hr>
<pre><code><h2>makeResizable (element, direction, position, minSize, collapsible, forcemargin)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Adds resizing capabilities to a given html element.<br><br> Resizing can be configured in two directions:<br>  - Vertical ("vert"): Resizes the height of the element<br>  - Horizontal ("horz"): Resizes the width of the element<br><br> Resizer handlers can be positioned on the element at:<br>  - Top ("top") or bottom ("bottom") for vertical resizing<br>  - Left ("left") or right ("right") for horizontal resizing<br><br> A resizable element triggers the following events while resizing:<br>  - panelResizeStart: When the resize starts. Passed the new size.<br>  - panelResizeUpdate: When the resize gets updated. Passed the new size.<br>  - panelResizeEnd: When the resize ends. Passed the final size.<br>  - panelCollapsed: When the panel gets collapsed (or hidden). Passed the last size<br>      before collapse. May occur without any resize events.<br>  - panelExpanded: When the panel gets expanded (or shown). Passed the initial size.<br>      May occur without any resize events.<br><br> @param {!DOMNode} element DOM element which should be made resizable.<br> @param {!string} direction Direction of the resize action: one of the DIRECTION_* constants.<br> @param {!string} position Which side of the element can be dragged: one of the POSITION_* constants<br>                          (TOP/BOTTOM for vertical resizing or LEFT/RIGHT for horizontal).<br> @param {?number} minSize Minimum size (width or height) of the element. Defaults to 0.<br> @param {?boolean} collapsible Indicates the panel is collapsible on double click on the<br>                          resizer. Defaults to false.<br> @param {?string} forcemargin CSS selector indicating element whose margin-left should be locked to<br>                          the resizable elemnt's size.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ShellAPI"></a><article>
<p class="path">utils/ShellAPI.js</p>
<h1>ShellAPI</h1>
<pre><code><h2>module</h2></code></pre><p> This is JavaScript API exposed to the native shell when Brackets is run in a native shell rather than a browser.<br>  </p>
<hr>
<pre><code><h2>executeCommand (eventName)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> The native function BracketsShellAPI::DispatchBracketsJSCommand calls this function in order to enable<br> calling Brackets commands from the native shell.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="StringUtils"></a><article>
<p class="path">utils/StringUtils.js</p>
<h1>StringUtils</h1>
<pre><code><h2>module</h2></code></pre><p>  Utilities functions related to string manipulation<br><br> </p>
<hr>
<pre><code><h2>format (str)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Format a string by replacing placeholder symbols with passed in arguments.<br><br> Example: var formatted = StringUtils.format("Hello {0}", "World");<br><br> @param {string} str The base string<br> @param {...} Arguments to be substituted into the string<br><br> @return {string} Formatted string<br>     </p>
<hr>
<pre><code><h2>getLines (text)</h2></code></pre><p><strong>return type: </strong><code>Array.</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Splits the text by new line characters and returns an array of lines<br> @param {string} text<br> @return {Array.} lines<br>     </p>
<hr>
<pre><code><h2>offsetToLineNum (textOrLines, offset)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Returns a line number corresponding to an offset in some text. The text can<br> be specified as a single string or as an array of strings that correspond to<br> the lines of the string.<br><br> Specify the text in lines when repeatedly calling the function on the same<br> text in a loop. Use getLines() to divide the text into lines, then repeatedly call<br> this function to compute a line number from the offset.<br><br> @param {string | Array.} textOrLines - string or array of lines from which<br>      to compute the line number from the offset<br> @param {number} offset<br> @return {number} line number<br>     </p>
<hr>
<pre><code><h2>breakableUrl (url)</h2></code></pre><p><strong>return type: </strong><code>string</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return a path or URL string that can be broken near path separators.<br> @param {string} url the path or URL to format<br> @return {string} the formatted path or URL<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="TokenUtils"></a><article>
<p class="path">utils/TokenUtils.js</p>
<h1>TokenUtils</h1>
<pre><code><h2>module</h2></code></pre><p> Functions for iterating through tokens in the current editor buffer. Useful for doing<br> light parsing that can rely purely on information gathered by the code coloring mechanism.<br> </p>
<hr>
<pre><code><h2>getInitialContext (editor, pos)</h2></code></pre><p><strong>return type: </strong><code>editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Creates a context object for the given editor and position, suitable for passing to the<br> move functions.<br> @param {CodeMirror} editor<br> @param {{ch:{string}, line:{number}} pos<br> @return {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}}<br>     </p>
<hr>
<pre><code><h2>movePrevToken (ctx)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the given context backwards by one token.<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} ctx<br> @return {boolean} whether the context changed<br>     </p>
<hr>
<pre><code><h2>moveNextToken (ctx)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the given context forward by one token.<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} ctx<br> @return {boolean} whether the context changed<br>     </p>
<hr>
<pre><code><h2>moveSkippingWhitespace (moveFxn, ctx)</h2></code></pre><p><strong>return type: </strong><code>boolean</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Moves the given context in the given direction, skipping any whitespace it hits.<br> @param {function} moveFxn the funciton to move the context<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} ctx<br> @return {boolean} whether the context changed<br>     </p>
<hr>
<pre><code><h2>offsetInToken (ctx)</h2></code></pre><p><strong>return type: </strong><code>number</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> In the given context, get the character offset of pos from the start of the token.<br> @param {editor:{CodeMirror}, pos:{ch:{string}, line:{number}}, token:{object}} context<br> @return {number}<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="UpdateNotification"></a><article>
<p class="path">utils/UpdateNotification.js</p>
<h1>UpdateNotification</h1>
<pre><code><h2>module</h2></code></pre><p>  Utilities functions for displaying update notifications<br><br> </p>
<hr>
<pre><code><h2>_addedClickHandler</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Flag that indicates if we've added a click handler to the update notification icon.<br>     </p>
<hr>
<pre><code><h2>_getUpdateInformation (force, dontCache)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get a data structure that has information for all builds of Brackets.<br><br> If force is true, the information is always fetched from _versionInfoURL.<br> If force is false, we try to use cached information. If more than<br> 24 hours have passed since the last fetch, or if cached data can't be found, <br> the data is fetched again.<br><br> If new data is fetched and dontCache is false, the data is saved in preferences<br> for quick fetching later.<br>     </p>
<hr>
<pre><code><h2>_stripOldVersionInfo (versionInfo, buildNumber)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return a new array of version information that is newer than "buildNumber".<br> Returns null if there is no new version information.<br>     </p>
<hr>
<pre><code><h2>_showUpdateNotificationDialog (updates)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Show a dialog that shows the update <br>     </p>
<hr>
<pre><code><h2>checkForUpdate (force, _testValues)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Check for updates. If "force" is true, update notification dialogs are always displayed <br> (if an update is available). If "force" is false, the update notification is only <br> displayed for newly available updates.<br> <br> If an update is available, show the "update available" notification icon in the title bar.<br><br> @param {boolean} force If true, always show the notification dialog.<br> @param {Object} _testValues This should only be used for testing purposes. See comments for details.<br> @return {$.Promise} jQuery Promise object that is resolved or rejected after the update check is complete.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="UrlParams"></a><article>
<p class="path">utils/UrlParams.js</p>
<pre><code><h2>UrlParams ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Convert between URL querystring and name/value pairs. Decodes and encodes URL parameters.<br>     </p>
<hr>
<pre><code><h2>UrlParams.prototype.parse (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Parse the window location by default. Optionally specify a URL to parse.<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>UrlParams.prototype.put (name, value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Store a name/value string pair<br> @param {!string} name<br> @param {!string} value<br>     </p>
<hr>
<pre><code><h2>UrlParams.prototype.get (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Retreive a value by name<br> @param {!string} name<br>     </p>
<hr>
<pre><code><h2>UrlParams.prototype.toString ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Encode name/value pairs as URI components.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ViewUtils"></a><article>
<p class="path">utils/ViewUtils.js</p>
<pre><code><h2>_resizeHandlers</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>_updateScrollerShadow ($displayElement, $scrollElement, $shadowTop, $shadowBottom, isPositionFixed)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Positions shadow background elements to indicate vertical scrolling.<br> @param {!DOMElement} $displayElement the DOMElement that displays the shadow<br> @param {!Object} $scrollElement the object that is scrolled<br> @param {!DOMElement} $shadowTop div .scroller-shadow.top<br> @param {!DOMElement} $shadowBottom div .scroller-shadow.bottom<br> @param {boolean} isPositionFixed When using absolute position, top remains at 0.<br>     </p>
<hr>
<pre><code><h2>addScrollerShadow (displayElement, scrollElement, showBottom)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Installs event handlers for updatng shadow background elements to indicate vertical scrolling.<br> @param {!DOMElement} displayElement the DOMElement that displays the shadow. Must fire<br>  "contentChanged" events when the element is resized or repositioned.<br> @param {?Object} scrollElement the object that is scrolled. Must fire "scroll" events<br>  when the element is scrolled. If null, the displayElement is used.<br> @param {?boolean} showBottom optionally show the bottom shadow<br>     </p>
<hr>
<pre><code><h2>removeScrollerShadow (displayElement, scrollElement)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove scroller-shadow effect.<br> @param {!DOMElement} displayElement the DOMElement that displays the shadow<br> @param {?Object} scrollElement the object that is scrolled<br>     </p>
<hr>
<pre><code><h2>sidebarList ($scrollerElement, selectedClassName, leafClassName)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Within a scrolling DOMElement, creates and positions a styled selection<br> div to align a single selected list item from a ul list element.<br><br> Assumptions:<br> - scrollElement is a child of the #file-section div<br> - ul list element fires a "selectionChanged" event after the<br>   selectedClassName is assigned to a new list item<br> <br> @param {!DOMElement} scrollElement A DOMElement containing a ul list element<br> @param {!string} selectedClassName A CSS class name on at most one list item in the contained list<br>     </p>
<hr>
<pre><code><h2>_handleResize ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br>     </p>
<hr>
<pre><code><h2>scrollElementIntoView ($view, $element, scrollHorizontal)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Within a scrolling DOMElement, if necessary, scroll element into viewport.<br><br> To Perform the minimum amount of scrolling necessary, cases should be handled as follows:<br> - element already completely in view : no scrolling<br> - element above    viewport          : scroll view so element is at top<br> - element left of  viewport          : scroll view so element is at left<br> - element below    viewport          : scroll view so element is at bottom<br> - element right of viewport          : scroll view so element is at right<br><br> Assumptions:<br> - $view is a scrolling container<br><br> @param {!DOMElement} $view - A jQuery scrolling container<br> @param {!DOMElement} $element - A jQuery element<br> @param {?boolean} scrollHorizontal - whether to also scroll horizonally<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ViewCommandHandlers"></a><article>
<p class="path">view/ViewCommandHandlers.js</p>
<pre><code><h2>DYNAMIC_FONT_STYLE_ID</h2></code></pre><p><strong>return type: </strong><code>string}</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> @const<br> @type {string}<br>     </p>
<hr>
<pre><code><h2>_adjustFontSize (direction)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>private</code></p>
<p> @private<br> Increases or decreases the editor's font size.<br> @param {number} -1 to make the font smaller; 1 to make it bigger.<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="Dialogs"></a><article>
<p class="path">widgets/Dialogs.js</p>
<h1>Dialogs</h1>
<pre><code><h2>module</h2></code></pre><p> Utilities for creating and managing standard modal dialogs.<br> </p>
<hr>
<pre><code><h2>showModalDialog (dlgClass, title, message)</h2></code></pre><p><strong>return type: </strong><code>$.Promise</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> General purpose modal dialog. Assumes that:<br> -- the root tag of the dialog is marked with a unique class name (passed as dlgClass), as well as the<br>    classes "template modal hide".<br> -- the HTML for the dialog contains elements with "title" and "message" classes, as well as a number <br>    of elements with "dialog-button" class, each of which has a "data-button-id".<br><br> @param {string} dlgClass The class of the dialog node in the HTML.<br> @param {string=} title The title of the error dialog. Can contain HTML markup. If unspecified, title in<br>      the HTML template is used unchanged.<br> @param {string=} message The message to display in the error dialog. Can contain HTML markup. If<br>      unspecified, body in the HTML template is used unchanged.<br> @return {$.Promise} a promise that will be resolved with the ID of the clicked button when the dialog<br>     is dismissed. Never rejected.<br>     </p>
<hr>
<pre><code><h2>cancelModalDialogIfOpen (dlgClass)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Immediately closes any dialog instances with the given class. The dialog callback for each instance will <br> be called with the special buttonId DIALOG_CANCELED (note: callback is run asynchronously).<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="PopUpManager"></a><article>
<p class="path">widgets/PopUpManager.js</p>
<h1>PopUpManager</h1>
<pre><code><h2>module</h2></code></pre><p> Utilities for managing pop-ups.<br> </p>
<hr>
<pre><code><h2>addPopUp ($popUp, removeHandler, autoRemove)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add Esc key handling for a popup DOM element.<br><br> @param {!jQuery} $popUp jQuery object for the DOM element pop-up<br> @param {function} removeHandler Pop-up specific remove (e.g. display:none or DOM removal)<br> @param {?Boolean} autoRemove - Specify true to indicate the PopUpManager should <br>      remove the popup from the _popUps array when the popup is closed. Specify false<br>      when the popup is always persistant in the _popUps array.<br>      <br>     </p>
<hr>
<pre><code><h2>removePopUp ($popUp)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove Esc key handling for a pop-up. Removes the pop-up from the DOM<br> if the pop-up is currently visible and was not originally attached.<br><br> @param {!jQuery} $popUp<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="StatusBar"></a><article>
<p class="path">widgets/StatusBar.js</p>
<h1>StatusBar</h1>
<pre><code><h2>module</h2></code></pre><p> A status bar with support for file information and busy and status indicators.<br> </p>
<hr>
<pre><code><h2>showBusyIndicator (updateCursor)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Shows the 'busy' indicator<br> @param {boolean} updateCursor Sets the cursor to "wait"<br>     </p>
<hr>
<pre><code><h2>hideBusyIndicator ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hides the 'busy' indicator<br>     </p>
<hr>
<pre><code><h2>addIndicator (id, indicator, visible, style, tooltip, command)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Registers a new status indicator<br> @param {string} id Registration id of the indicator to be updated.<br> @param {DOMNode} indicator Optional DOMNode for the indicator<br> @param {boolean} visible Shows or hides the indicator over the statusbar.<br> @param {string} style Sets the attribute "class" of the indicator.<br> @param {string} tooltip Sets the attribute "title" of the indicator.<br> @param {string} command Optional command name to execute on the indicator click.<br> TODO Unused command parameter. Include command functionality for statusbar indicators.<br>     </p>
<hr>
<pre><code><h2>updateIndicator (id, visible, style, tooltip, command)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Updates a status indicator<br> @param {string} id Registration id of the indicator to be updated.<br> @param {boolean} visible Shows or hides the indicator over the statusbar.<br> @param {string} style Sets the attribute "class" of the indicator.<br> @param {string} tooltip Sets the attribute "title" of the indicator.<br> @param {string} command Optional command name to execute on the indicator click.<br>     </p>
<hr>
<pre><code><h2>hide ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hide the statusbar<br>     </p>
<hr>
<pre><code><h2>show ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Show the statusbar<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="ConsoleAgent"></a><article>
<p class="path">LiveDevelopment/Agents/ConsoleAgent.js</p>
<h1>ConsoleAgent</h1>
<pre><code><h2>module</h2></code></pre><p> ConsoleAgent forwards all console message from the remote console to the<br> local console.<br> </p>
<hr>
<pre><code><h2>_log (message)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Log a remote message to the local console<br> @param {Console.ConsoleMessage} message<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="CSSAgent"></a><article>
<p class="path">LiveDevelopment/Agents/CSSAgent.js</p>
<h1>CSSAgent</h1>
<pre><code><h2>module</h2></code></pre><p> CSSAgent keeps track of loaded style sheets and allows reloading them<br> from a {Document}.<br> </p>
<hr>
<pre><code><h2>_canonicalize (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create a canonicalized version of the given URL, stripping off query strings and hashes.<br> @param {string} url the URL to canonicalize<br> @return the canonicalized URL<br>     </p>
<hr>
<pre><code><h2>styleForURL (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get a style sheet for a url<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>getStylesheetURLs ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get a list of all loaded stylesheet files by URL </p>
<hr>
<pre><code><h2>reloadCSSForDocument (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Reload a CSS style sheet from a document<br> @param {Document} document<br>     </p>
<hr>
<pre><code><h2>clearCSSForDocument (doc)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Empties a CSS style sheet given a document that has been deleted<br> @param {Document} document<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="DOMAgent"></a><article>
<p class="path">LiveDevelopment/Agents/DOMAgent.js</p>
<h1>DOMAgent</h1>
<pre><code><h2>module</h2></code></pre><p> DOMAgent constructs and maintains a tree of {DOMNode}s that represents the<br> rendered DOM tree in the remote browser. Nodes can be accessed by id or<br> location (source offset). To update the DOM tree in response to a change of<br> the source document (replace [from,to] with text) call<br> `applyChange(from, to, text)`.<br><br> The DOMAgent triggers `getDocument` once it has loaded<br> the document.<br> </p>
<hr>
<pre><code><h2>nodeBeforeLocation (location)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the last node before the given location<br> @param {integer} location<br>     </p>
<hr>
<pre><code><h2>allNodesAtLocation (location)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the element node that encloses the given location<br> @param {location}<br>     </p>
<hr>
<pre><code><h2>nodeAtLocation (location)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the node at the given location<br> @param {location}<br>     </p>
<hr>
<pre><code><h2>nodeWithId (nodeId)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the node for the given id<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>removeNode (node)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Update the node index<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>addNode (node)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Update the node index<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>requestChildNodes (node)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Request the child nodes for a node<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>resolveNode (node, callback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Resolve a node<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>_cleanURL (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Eliminate the query string from a URL<br> @param {string} URL<br>     </p>
<hr>
<pre><code><h2>_mapDocumentToSource (source)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Map the DOM document to the source text<br> @param {string} source<br>     </p>
<hr>
<pre><code><h2>_onFinishedLoadingDOM ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Load the source document and match it with the DOM tree</p>
<hr>
<pre><code><h2>applyChange (from, to, text)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Apply a change<br> @param {integer} start offset of the change<br> @param {integer} end offset of the change<br> @param {string} change text<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="DOMHelpers"></a><article>
<p class="path">LiveDevelopment/Agents/DOMHelpers.js</p>
<h1>DOMHelpers</h1>
<pre><code><h2>module</h2></code></pre><p> DOMHelpers is a collection of functions used by the DOMAgent exports `eachNode(src, callback)`<br> </p>
<hr>
<pre><code><h2>_isQuote (c, escape, quote)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Test if the given character is a quote character<br> {char} source character<br> {char} escape (previous) character<br> {char} quote character<br>     </p>
<hr>
<pre><code><h2>_removeQuotes (src)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove quotes from the string and adjust escaped quotes<br> @param {string} source string<br>     </p>
<hr>
<pre><code><h2>_find (src, match, skip, quotes, comments)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the next match using several constraints<br> @param {string} source string<br> @param {string} or [{regex}, {length}] the match definition<br> @param {integer} ignore characters before this offset<br> @param {boolean} watch for quotes<br> @param [{string},{string}] watch for comments<br>     </p>
<hr>
<pre><code><h2>_findEach (src, match, quotes, comments, callback)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Callback iterator using `_find` </p>
<hr>
<pre><code><h2>_findTag (src, skip)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the next tag<br> @param {string} source string<br> @param {integer} ignore characters before this offset<br>     </p>
<hr>
<pre><code><h2>_extractAttributes (content)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Extract tag attributes from the given source of a single tag<br> @param {string} source content<br>     </p>
<hr>
<pre><code><h2>extractPayload (content)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Extract the node payload<br> @param {string} source content<br>     </p>
<hr>
</article>
<hr>
<hr>
<a name="DOMNode"></a><article>
<p class="path">LiveDevelopment/Agents/DOMNode.js</p>
<h1>DOMNode</h1>
<pre><code><h2>module</h2></code></pre><p> DOMNode represents a node in the DOM tree. It is constructed from a payload<br> similar to {DOM.Node} and supports all basic tree operations. If a node has<br> a nodeId it is registered with the `DOMAgent` via `addNode()`. The node's<br> sourceOffset and sourceLength is stored as its location and length. Nodes can<br> iterated using `each()` or `find()`. `dump` shows the entire tree on the console.<br> </p>
<hr>
<pre><code><h2>_fill (string, length, c)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Fill a string to the given length (used for debug output)<br> @param {string} source string<br> @param {integer} length<br> @param {char} fill character<br>     </p>
<hr>
<pre><code><h2>_makeFindCondition (match)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Construct a find condition (used in `find` and `findParent`)<br> The match can be a callback returning true or false, the node<br> name or the node type.<br> @param {function} or {string} or {number} match criteria<br>     </p>
<hr>
<pre><code><h2>DOMNode</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Constructor<br> @param {DOMAgent} the agent is passed to avoid circular relationships<br> @param {DOM.Node} node payload<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototyperemove</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove a node </p>
<hr>
<pre><code><h2>DOMNode.prototypesetPayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Set the node payload<br> @param {DOM.Node} payload<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypesetChildrenPayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Create child nodes from the given payload<br> @param [{DOM.Node}] payload of the children<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypepayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Construct the payload for this node </p>
<hr>
<pre><code><h2>DOMNode.prototypefindParentForNextNodeMatchingPayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the next node that matches the given payload<br> @param {DOM.Node} payload<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypefindNextNodeMatchingPayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the next node that matches the given payload<br> @param {DOM.Node} payload<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypematchesPayload</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Test if the node matches the given payload<br> @param {DOM.Node} payload<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototyperesolve</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Resolve the node and retrieve its objectId from the remote debugger </p>
<hr>
<pre><code><h2>DOMNode.prototypecanHaveChildren</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Can the node have children? </p>
<hr>
<pre><code><h2>DOMNode.prototyperemoveChild</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove a child<br> @param {DOMNode} child node to remove<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeinsertChildAt</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Insert a child node at the given index<br> @param {DOMNode} node to insert<br> @param {integer} optional index (node is appended if missing)<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeappendChild</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Append a child to this node<br> @param {DOMNode} child node to append<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeinsertChildAfter</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Insert a child node after the given node<br> @param {DOMNode} child node to insert<br> @param {DOMNode} existing child node<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeinsertChildBefore</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Insert a child node before the given node<br> @param {DOMNode} child node to insert<br> @param {DOMNode} existing child node<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeindexOfChild</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Determine the index of a child node<br> @param {DOMNode} child node<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypepreviousSibling</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the previous sibling </p>
<hr>
<pre><code><h2>DOMNode.prototypenextSibling</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the next sibling </p>
<hr>
<pre><code><h2>DOMNode.prototypepreviousNode</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the previous node </p>
<hr>
<pre><code><h2>DOMNode.prototypenextNode</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the next node </p>
<hr>
<pre><code><h2>DOMNode.prototypeeach</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Traverse the tree<br> @param {function({DOM.Node})} called for this node and all descendants<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypefind</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find a node in the tree<br> @param {function} or {string} or {integer} find condition<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypefindAll</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find all nodes with the given find condition<br> @param {function} or {string} or {integer} find condition<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypeeachParent</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Iterate over all parent nodes<br> @param {function({DOM.Node})} called for each ancestor<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototypefindParent</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find a parent node that matches the find condition<br> @param {function} or {string} or {integer} find condition<br>     </p>
<hr>
<pre><code><h2>DOMNode.prototyperoot</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find the root of the tree </p>
<hr>
<pre><code><h2>DOMNode.prototypeisAtLocation</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Test if the given location is inside this node<br> @param {integer} location<br> @param {boolean} also include children<br>    </p>
<hr>
<pre><code><h2>DOMNode.prototypeisEmpty</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Test if this node is empty </p>
<hr>
<pre><code><h2>DOMNode.prototypetoString</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Debug Output </p>
<hr>
<pre><code><h2>DOMNode.prototypedump</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Detailed Debug Output </p>
<hr>
</article>
<hr>
<hr>
<a name="EditAgent"></a><article>
<p class="path">LiveDevelopment/Agents/EditAgent.js</p>
<h1>EditAgent</h1>
<pre><code><h2>module</h2></code></pre><p> EditAgent propagates changes from the in-document editor to the source<br> document.<br> </p>
<hr>
<pre><code><h2>_findChangedCharacters (oldValue, value)</h2></code></pre><p><strong>return type: </strong><code>from, to, text</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Find changed characters<br> @param {string} old value<br> @param {string} changed value<br> @return {from, to, text}<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
</article>
<hr>
<hr>
<a name="GotoAgent"></a><article>
<p class="path">LiveDevelopment/Agents/GotoAgent.js</p>
<h1>GotoAgent</h1>
<pre><code><h2>module</h2></code></pre><p> GotoAgent constructs and responds to the in-browser goto dialog.<br> </p>
<hr>
<pre><code><h2>_urlWithoutQueryString (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return the URL without the query string<br> @param {string} URL<br>     </p>
<hr>
<pre><code><h2>_fileFromURL (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the file component of the given url<br> @param {string} URL<br>     </p>
<hr>
<pre><code><h2>_makeHTMLTarget (targets, node)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Make the given node a target for goto<br> @param [] targets array<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>_makeCSSTarget (targets, rule)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Make the given css rule a target for goto<br> @param [] targets array<br> @param {CSS.Rule} node<br>     </p>
<hr>
<pre><code><h2>_makeJSTarget (targets, callFrame)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Make the given javascript callFrame the target for goto<br> @param [] targets array<br> @param {Debugger.CallFrame} node<br>     </p>
<hr>
<pre><code><h2>_onRemoteShowGoto (event, res)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Gather options where to go to from the given source node </p>
<hr>
<pre><code><h2>openLocation (location, noFlash)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Point the master editor to the given location<br> @param {integer} location in file<br>     </p>
<hr>
<pre><code><h2>open (url, location, noFlash)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Open the editor at the given url and editor location<br> @param {string} url<br> @param {integer} optional location in file<br>     </p>
<hr>
<pre><code><h2>_onRemoteGoto (event, res)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Go to the given source node </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
</article>
<hr>
<hr>
<a name="HighlightAgent"></a><article>
<p class="path">LiveDevelopment/Agents/HighlightAgent.js</p>
<h1>HighlightAgent</h1>
<pre><code><h2>module</h2></code></pre><p> HighlightAgent dispatches events for highlight requests from in-browser<br> highlight requests, and allows highlighting nodes and rules in the browser.<br><br> Trigger "highlight" when a node should be highlighted<br> </p>
<hr>
<pre><code><h2>hide ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Hide in-browser highlighting </p>
<hr>
<pre><code><h2>node (n)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Highlight a single node using DOM.highlightNode<br> @param {DOMNode} node<br>     </p>
<hr>
<pre><code><h2>rule (name)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Highlight all nodes affected by a CSS rule<br> @param {string} rule selector<br>     </p>
<hr>
<pre><code><h2>redraw ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Redraw active highlights<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="NetworkAgent"></a><article>
<p class="path">LiveDevelopment/Agents/NetworkAgent.js</p>
<h1>NetworkAgent</h1>
<pre><code><h2>module</h2></code></pre><p> NetworkAgent tracks all resources loaded by the remote debugger. Use<br> `wasURLRequested(url)` to query whether a resource was loaded.<br> </p>
<hr>
<pre><code><h2>_urlWithoutQueryString (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return the URL without the query string<br> @param {string} URL<br>     </p>
<hr>
<pre><code><h2>wasURLRequested (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Return the resource information for a given URL<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Unload the agent </p>
<hr>
</article>
<hr>
<hr>
<a name="RemoteAgent"></a><article>
<p class="path">LiveDevelopment/Agents/RemoteAgent.js</p>
<h1>RemoteAgent</h1>
<pre><code><h2>module</h2></code></pre><p> RemoteAgent defines and provides an interface for custom remote functions<br> loaded from RemoteFunctions. Remote commands are executed via<br> `call(name, varargs)`.<br><br> Remote events are dispatched as events on this object.<br> </p>
<hr>
<pre><code><h2>call (method, varargs)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Call a remote function<br> The parameters are passed on to the remote functions. Nodes are resolved<br> and sent as objectIds.<br> @param {string} function name<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="RemoteFunctions"></a><article>
<p class="path">LiveDevelopment/Agents/RemoteFunctions.js</p>
<pre><code><h2>RemoteFunctions (experimental)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> RemoteFunctions define the functions to be executed in the browser. This<br> modules should define a single function that returns an object of all<br> exported functions.<br> </p>
<hr>
<pre><code><h2>onMouseOver (event)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Event Handlers **********************************************************</p>
<hr>
</article>
<hr>
<hr>
<a name="ScriptAgent"></a><article>
<p class="path">LiveDevelopment/Agents/ScriptAgent.js</p>
<h1>ScriptAgent</h1>
<pre><code><h2>module</h2></code></pre><p> ScriptAgent tracks all executed scripts, defines internal breakpoints, and<br> interfaces with the remote debugger.<br> </p>
<hr>
<pre><code><h2>_addTraceToNode (nodeId, trace)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Add a call stack trace to a node<br> @param {integer} node id<br> @param [{Debugger.CallFrame}] call stack<br>     </p>
<hr>
<pre><code><h2>scriptWithId (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the script information for a given url<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>scriptForURL (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the script information for a given url<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>load ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the agent </p>
<hr>
<pre><code><h2>unload ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Clean up </p>
<hr>
</article>
<hr>
<hr>
<a name="CSSDocument"></a><article>
<p class="path">LiveDevelopment/Documents/CSSDocument.js</p>
<h1>CSSDocument</h1>
<pre><code><h2>module</h2></code></pre><p> CSSDocument manages a single CSS source document<br><br> # EDITING<br><br> Editing the document will cause the style sheet to be reloaded via the<br> CSSAgent, which immediately updates the appearance of the rendered document.<br><br> # HIGHLIGHTING<br><br> CSSDocument supports highlighting nodes from the HighlightAgent and<br> highlighting all DOMNode corresponding to the rule at the cursor position<br> in the editor.<br><br> # EVENTS<br><br> CSSDocument dispatches these events:<br>  deleted - When the file for the underlying Document has been deleted. The<br>      2nd argument to the listener will be this CSSDocument.<br> </p>
<hr>
<pre><code><h2>CSSDocument</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Constructor<br><br> @param Document the source document from Brackets<br>     </p>
<hr>
<pre><code><h2>CSSDocument.prototypegetStyleSheetFromBrowser</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the browser version of the StyleSheet object </p>
<hr>
<pre><code><h2>CSSDocument.prototypegetSourceFromBrowser</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the browser version of the source </p>
<hr>
<pre><code><h2>CSSDocument.prototypeclose</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the document </p>
<hr>
<pre><code><h2>CSSDocument.prototypeonCursorActivity</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered on cursor activity of the editor </p>
<hr>
<pre><code><h2>CSSDocument.prototypeonChange</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered whenever the Document is edited </p>
<hr>
<pre><code><h2>CSSDocument.prototypeonDeleted</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered if the Document's file is deleted </p>
<hr>
<pre><code><h2>CSSDocument.prototype.onActiveEditorChange (event, newActive, oldActive)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered when the active editor changes </p>
<hr>
<pre><code><h2>CSSDocument.prototypeonHighlight</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by the HighlightAgent to highlight a node in the editor </p>
<hr>
</article>
<hr>
<hr>
<a name="HTMLDocument"></a><article>
<p class="path">LiveDevelopment/Documents/HTMLDocument.js</p>
<h1>HTMLDocument</h1>
<pre><code><h2>module</h2></code></pre><p> HTMLDocument manages a single HTML source document<br><br> # EDITING<br><br> Editing the document will cause the corresponding node to be updated<br> by calling `applyChanges` on the DOMAgent. This will only work for<br> altering text nodes and will break when attempting to change DOM elements<br> or inserting or deleting nodes.<br><br> # HIGHLIGHTING<br><br> HTMLDocument supports highlighting nodes from the HighlightAgent and<br> highlighting the DOMNode corresponding to the cursor position in the<br> editor.<br> </p>
<hr>
<pre><code><h2>HTMLDocument</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Constructor<br><br> @param Document the source document from Brackets<br>     </p>
<hr>
<pre><code><h2>HTMLDocument.prototypeclose</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the document </p>
<hr>
<pre><code><h2>HTMLDocument.prototypeonCursorActivity</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered on cursor activity by the editor </p>
<hr>
<pre><code><h2>HTMLDocument.prototypeonChange</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered on change by the editor </p>
<hr>
<pre><code><h2>HTMLDocument.prototypeonHighlight</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by the HighlightAgent to highlight a node in the editor </p>
<hr>
</article>
<hr>
<hr>
<a name="JSDocument"></a><article>
<p class="path">LiveDevelopment/Documents/JSDocument.js</p>
<h1>JSDocument</h1>
<pre><code><h2>module</h2></code></pre><p> JSDocument manages a single JavaScript source document<br><br> # EDITING<br><br> Editing the document will cause the script to be reloaded via the<br> ScriptAgent, which updates the implementation of all functions without<br> loosing any state. To support redrawing canvases, jQuery must be loaded<br> and a rerender method must be attached to every canvas that clears and<br> renders the canvas.<br><br> # HIGHLIGHTING<br><br> JSDocument supports highlighting nodes from the HighlightAgent. Support<br> for highlighting the nodes that were created / touched by the current<br> line is missing.<br> </p>
<hr>
<pre><code><h2>JSDocument</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Constructor<br><br> @param {Document} the source document<br>     </p>
<hr>
<pre><code><h2>JSDocument.prototypeclose</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Close the document </p>
<hr>
<pre><code><h2>JSDocument.prototypeonCursorActivity</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered on cursor activity by the editor </p>
<hr>
<pre><code><h2>JSDocument.prototypeonChange</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered on change by the editor </p>
<hr>
<pre><code><h2>JSDocument.prototypeonHighlight</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Triggered by the HighlightAgent to highlight a node in the editor </p>
<hr>
</article>
<hr>
<hr>
<a name="Inspector"></a><article>
<p class="path">LiveDevelopment/Inspector/Inspector.js</p>
<h1>Inspector</h1>
<pre><code><h2>module</h2></code></pre><p> Inspector manages the connection to Chrome/Chromium's remote debugger.<br> See inspector.html for the documentation of the remote debugger.<br><br> # SETUP<br><br> To enable remote debugging in Chrome or Chromium open either application<br> with the following parameters:<br><br>   --enable-remote-debugger --remote-debugging-port=9222<br><br> This will open an HTTP server on the specified port, which can be used to<br> browse the available remote debugger sessions. In general, every open<br> browser tab can host an individual remote debugger session. The<br> available interfaces can be exported by requesting:<br><br>   http://127.0.0.1:9222/json<br><br> The response is a JSON-formatted array that specifies all available remote<br> debugger sessions including the remote debugging web sockets.<br><br> Inspector can connect directly to a web socket via `connect(socketURL)`, or<br> it can find the web socket that corresponds to the tab at the given URL and<br> connect to it via `connectToURL(url)`. The later returns a promise. To <br> disconnect use `disconnect()`.<br><br> # EVENTS<br><br> Inspector dispatches several connectivity-related events + all remote debugger<br> events (see below). Event handlers are attached via `on(event, function)` and<br> detached via `off(event, function)`.<br><br>   `connect`    Inspector did successfully connect to the remote debugger<br>   `disconnect` Inspector did disconnect from the remote debugger<br>   `error`      Inspector encountered an error<br>   `message`    Inspector received a message from the remote debugger - this<br>                  provides a low-level entry point to remote debugger events<br><br> # REMOTE DEBUGGER COMMANDS<br><br> Commands are executed by calling `{Domain}.{Command}()` with the parameters<br> specified in the order of the remote debugger documentation. These command<br> functions are generated automatically at runtime from Inspector.json. The<br> actual implementation of these functions is found in<br> `_send(method, signature, varargs)`, which verifies, serializes, and<br> transmits the command to the remote debugger. If the last parameter of any<br> command function call is a function, it will be used as the callback.<br><br> # REMOTE DEBUGGER EVENTS<br><br> Debugger events are dispatched as regular events using {Domain}.{Event} as<br> the event name. The handler function will be called with a single parameter<br> that stores all returned values as an object.<br> </p>
<hr>
<pre><code><h2>_verifySignature (signature, value)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Check a parameter value against the given signature<br> This only checks for optional parameters, not types<br> Type checking is complex because of $ref and done on the remote end anyways<br> @param {signature}<br> @param {value}<br>     </p>
<hr>
<pre><code><h2>_send (method, signature, varargs)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Send a message to the remote debugger<br> All passed arguments after the signature are passed on as parameters.<br> If the last argument is a function, it is used as the callback function.<br> @param {string} remote method<br> @param {object} the method signature<br>     </p>
<hr>
<pre><code><h2>_onDisconnect ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> WebSocket did close </p>
<hr>
<pre><code><h2>_onError (error)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> WebSocket reported an error </p>
<hr>
<pre><code><h2>_onConnect ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> WebSocket did open </p>
<hr>
<pre><code><h2>_onMessage (message)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Received message from the WebSocket<br> A message can be one of three things:<br>   1. an error -> report it<br>   2. the response to a previous command -> run the stored callback<br>   3. an event -> trigger an event handler method<br> @param {object} message<br>     </p>
<hr>
<pre><code><h2>getAvailableSockets (host, port)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Get the available debugger sockets from the remote debugger<br> @param {string} host IP or name<br> @param {integer} debugger port<br>     </p>
<hr>
<pre><code><h2>on (name, handler)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Register a handler to be called when the given event is triggered<br> @param {string} event name<br> @param {function} handler function<br>     </p>
<hr>
<pre><code><h2>off (name, handler)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Remove the given or all event handler(s) for the given event or remove all event handlers<br> @param {string} optional event name<br> @param {function} optional handler function<br>     </p>
<hr>
<pre><code><h2>disconnect ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Disconnect from the remote debugger WebSocket </p>
<hr>
<pre><code><h2>connect (socketURL)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Connect to the remote debugger WebSocket at the given URL<br> @param {string} WebSocket URL<br>     </p>
<hr>
<pre><code><h2>connectToURL (url)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Connect to the remote debugger of the page that is at the given URL<br> @param {string} url<br>     </p>
<hr>
<pre><code><h2>connected ()</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Check if the inspector is connected </p>
<hr>
<pre><code><h2>init (theConfig)</h2></code></pre><p><strong>return type: </strong><code>void</code></p>
<p><strong>access: </strong><code>public</code></p>
<p> Initialize the Inspector<br> Read the Inspector.json configuration and define the command objects<br> -> Inspector.domain.command()<br>     </p>
<hr>
</article>
<hr>
<hr>

		
    
        </div>
    
    </body>
    
</html>